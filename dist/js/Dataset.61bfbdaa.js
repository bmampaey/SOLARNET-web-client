(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Dataset"],{"04d1":function(e,t,a){var r=a("342f"),n=r.match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},"1fdb":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a("b85c"),n=a("2909"),i=a("d4ec"),s=a("bee2"),o=a("ade3"),l=(a("ac1f"),a("841c"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),function(){function e(t){Object(i["a"])(this,e),Object(o["a"])(this,"telescopes",[]),Object(o["a"])(this,"characteristics",[]),Object(o["a"])(this,"tags",[]),Object(o["a"])(this,"dateRange",{min:null,max:null}),Object(o["a"])(this,"wavelengthRange",{min:null,max:null}),t&&(Array.isArray(t.telescopes)&&(this.telescopes=Object(n["a"])(t.telescopes)),Array.isArray(t.characteristics)&&(this.characteristics=Object(n["a"])(t.characteristics)),Array.isArray(t.tags)&&(this.tags=Object(n["a"])(t.tags)),t.dateRange&&(this.dateRange={min:t.dateRange.min,max:t.dateRange.max}),t.wavelengthRange&&(this.wavelengthRange={min:t.wavelengthRange.min,max:t.wavelengthRange.max}),this.search=t.search)}return Object(s["a"])(e,[{key:"getSearchParams",value:function(){var e,t=new URLSearchParams,a=Object(r["a"])(this.telescopes);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.append("telescope__in",n)}}catch(d){a.e(d)}finally{a.f()}var i,s=Object(r["a"])(this.characteristics);try{for(s.s();!(i=s.n()).done;){var o=i.value;t.append("characteristics__in",o)}}catch(d){s.e(d)}finally{s.f()}var l,c=Object(r["a"])(this.tags);try{for(c.s();!(l=c.n()).done;){var u=l.value;t.append("tags__in",u)}}catch(d){c.e(d)}finally{c.f()}return this.dateRange.min&&t.set("date_end__gte",this.dateRange.min.toISOString()),this.dateRange.max&&t.set("date_beg__lte",this.dateRange.max.toISOString()),this.wavelengthRange.min&&t.set("wavemax__gte",this.wavelengthRange.min),this.wavelengthRange.max&&t.set("wavemin__lte",this.wavelengthRange.max),this.search&&t.set("search",this.search),t}}]),e}())},2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a("6b75");function n(e){if(Array.isArray(e))return Object(r["a"])(e)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function i(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var s=a("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){return n(e)||i(e)||Object(s["a"])(e)||o()}},"4e82":function(e,t,a){"use strict";var r=a("23e7"),n=a("1c0b"),i=a("7b0b"),s=a("50c4"),o=a("d039"),l=a("addb"),c=a("a640"),u=a("04d1"),d=a("d998"),h=a("2d00"),p=a("512c"),f=[],v=f.sort,m=o((function(){f.sort(void 0)})),b=o((function(){f.sort(null)})),g=c("sort"),w=!o((function(){if(h)return h<70;if(!(u&&u>3)){if(d)return!0;if(p)return p<603;var e,t,a,r,n="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:a=3;break;case 68:case 71:a=4;break;default:a=2}for(r=0;r<47;r++)f.push({k:t+r,v:a})}for(f.sort((function(e,t){return t.v-e.v})),r=0;r<f.length;r++)t=f[r].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}})),y=m||!b||!g||!w,O=function(e){return function(t,a){return void 0===a?-1:void 0===t?1:void 0!==e?+e(t,a)||0:String(t)>String(a)?1:-1}};r({target:"Array",proto:!0,forced:y},{sort:function(e){void 0!==e&&n(e);var t=i(this);if(w)return void 0===e?v.call(t):v.call(t,e);var a,r,o=[],c=s(t.length);for(r=0;r<c;r++)r in t&&o.push(t[r]);o=l(o,O(e)),a=o.length,r=0;while(r<a)t[r]=o[r++];while(r<c)delete t[r++];return t}})},"512c":function(e,t,a){var r=a("342f"),n=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},"72f4":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-row",[a("b-col",{attrs:{cols:"4"}},[a("dataset-form",{model:{value:e.searchFilter,callback:function(t){e.searchFilter=t},expression:"searchFilter"}})],1),a("b-col",{attrs:{cols:"8"}},[a("dataset-list",{attrs:{"search-filter":e.searchFilter}})],1)],1)},n=[],i=a("1fdb"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.showOverlay,rounded:"sm"}},[a("b-form",{on:{submit:function(t){return t.preventDefault(),e.updateSearchFilter.apply(null,arguments)}}},[a("b-form-group",{attrs:{label:"Telescopes","label-for":"telescopes"}},[a("b-form-select",{attrs:{id:"telescopes",options:e.telescopeOptions,multiple:""},model:{value:e.searchFilter.telescopes,callback:function(t){e.$set(e.searchFilter,"telescopes",t)},expression:"searchFilter.telescopes"}})],1),a("b-form-group",{attrs:{label:"Characteristics","label-for":"characteristics"}},[a("b-form-select",{attrs:{id:"characteristics",options:e.characteristicOptions,multiple:""},model:{value:e.searchFilter.characteristics,callback:function(t){e.$set(e.searchFilter,"characteristics",t)},expression:"searchFilter.characteristics"}})],1),a("b-form-group",{attrs:{label:"Tags","label-for":"tags"}},[a("b-form-select",{attrs:{id:"tags",options:e.tagOptions,multiple:""},model:{value:e.searchFilter.tags,callback:function(t){e.$set(e.searchFilter,"tags",t)},expression:"searchFilter.tags"}})],1),a("base-datetime-range",{attrs:{label:"Observation date","min-label":"Start","max-label":"End"},model:{value:e.searchFilter.dateRange,callback:function(t){e.$set(e.searchFilter,"dateRange",t)},expression:"searchFilter.dateRange"}}),a("base-number-range",{attrs:{label:"Observation wavelength",unit:"nm"},model:{value:e.searchFilter.wavelengthRange,callback:function(t){e.$set(e.searchFilter,"wavelengthRange",t)},expression:"searchFilter.wavelengthRange"}}),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Search")])],1)],1)},o=[],l=a("1da1"),c=(a("96cf"),a("d3b7"),a("820e"),a("3ca3"),a("ddb0"),a("4e82"),a("d81d"),a("b0c0"),{name:"DatasetForm",props:{value:{type:i["a"],required:!0}},data:function(){return{searchFilter:new i["a"](this.value),telescopeOptions:[],characteristicOptions:[],tagOptions:[],showOverlay:!0}},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.showOverlay=!0,e.next=3,Promise.allSettled([this.loadTelescopeOptions(),this.loadCharacteristicOptions(),this.loadTagOptions()]);case 3:this.showOverlay=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{updateSearchFilter:function(){this.$emit("input",new i["a"](this.searchFilter))},loadTelescopeOptions:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$SVO.telescope.getAll();case 3:t=e.sent,this.telescopeOptions=t.map((function(e){return{value:e.name,text:e.name}})).sort(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$displayErrorMessage(this.$SVO.parseError(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),loadCharacteristicOptions:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$SVO.characteristic.getAll();case 3:t=e.sent,this.characteristicOptions=t.map((function(e){return{value:e.name,text:e.name}})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$displayErrorMessage(this.$SVO.parseError(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),loadTagOptions:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$SVO.tag.getAll();case 3:t=e.sent,this.tagOptions=t.map((function(e){return{value:e.name,text:e.name}})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$displayErrorMessage(this.$SVO.parseError(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()}}),u=c,d=a("2877"),h=Object(d["a"])(u,s,o,!1,null,null,null),p=h.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-overlay",{attrs:{show:e.showOverlay,rounded:"sm"}},[a("b-table",{ref:"datasetTable",attrs:{items:e.datasetList,fields:e.datasetTableFields,"primary-key":"id","select-mode":"single",caption:e.datasetTableCaption,small:"",hover:"",selectable:""},on:{"row-selected":e.showDatasetDetailModal}})],1),a("b-modal",{ref:"datasetDetailModal",attrs:{size:"xl",title:e.datasetDetailModalTitle,"hide-footer":"",static:"",lazy:""}},[e.datasetDetailModalDataset?a("dataset-detail",{attrs:{dataset:e.datasetDetailModalDataset,"search-filter":e.searchFilter}}):e._e()],1)],1)},v=[],m=(a("a15b"),a("4de4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-card",{staticClass:"mb-2"},[a("b-card-text",{domProps:{innerHTML:e._s(e.dataset.description)}}),a("b-button-toolbar",{attrs:{"key-nav":""}},[a("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover",value:e.telescopePopover,expression:"telescopePopover"}],attrs:{pill:"",size:"sm",variant:"outline-info"}},[e._v(e._s(e.telescope.name))]),a("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover",value:e.instrumentPopover,expression:"instrumentPopover"}],attrs:{pill:"",size:"sm",variant:"outline-info"}},[e._v(e._s(e.instrument.name))]),a("b-button",{attrs:{pill:"",size:"sm",variant:"outline-info",href:e.dataset.archive_url,target:"_blank"}},[e._v("Archive webpage")])],1)],1),a(e.metadataComponent,{tag:"component",staticClass:"mt-3",attrs:{dataset:e.dataset,"initial-search-filter":e.searchFilter}})],1)}),b=[],g=(a("a4d3"),a("e01a"),a("feb8")),w={name:"DatasetDetail",props:{dataset:{type:Object,required:!0},searchFilter:{type:Object,required:!0}},data:function(){return{telescope:this.dataset.telescope,instrument:this.dataset.instrument}},computed:{telescopePopover:function(){return{title:this.telescope.name,content:this.telescope.description,html:!0,placement:"bottom",trigger:"focus",customClass:"popover-lg"}},instrumentPopover:function(){return{title:this.instrument.name,content:this.instrument.description,html:!0,placement:"bottom",trigger:"focus",customClass:"popover-lg"}},metadataComponent:function(){var e=g["default"][this.dataset.name]||g["default"]["default"];return function(){return a("f4cd")("./"+e)}}}},y=w,O=Object(d["a"])(y,m,b,!1,null,null,null),L=O.exports,x={name:"DatasetList",components:{DatasetDetail:L},props:{searchFilter:{type:i["a"],required:!0}},data:function(){return{datasetList:[],datasetDetailModalDataset:null,datasetDetailModalTitle:"",showOverlay:!0}},computed:{datasetTableFields:function(){return[{key:"name",label:"Dataset"},{key:"metadata",label:"Estimated count",formatter:function(e){return e.estimated_count}},{key:"telescope",label:"Telescope",formatter:function(e){return e.name}},{key:"instrument",label:"Instrument",formatter:function(e){return e.name}},{key:"characteristics",label:"Characteristics",formatter:function(e){return e.map((function(e){return e.name})).join(", ")}}]},datasetTableCaption:function(){return this.datasetList.length>0?"Click on any row to see dataset content or refine search":"No dataset correspond to your search criteria"}},watch:{searchFilter:{handler:"updateDatasetList",immediate:!0}},methods:{updateDatasetList:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.showOverlay=!0,e.prev=1,e.next=4,this.$SVO.dataset.getAll(t.getSearchParams());case 4:a=e.sent,this.datasetList=a.filter((function(e){return e.metadata&&e.metadata.estimated_count>0})),this.selectedDatasets=[],e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),this.$displayErrorMessage(this.$SVO.parseError(e.t0));case 12:this.showOverlay=!1;case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}(),showDatasetDetailModal:function(e){e.length>0&&(this.datasetDetailModalDataset=e[0],this.datasetDetailModalTitle=this.datasetDetailModalDataset.name,this.$refs.datasetTable.clearSelected(),this.$nextTick((function(){this.$refs.datasetDetailModal.show()})))}}},M=x,S=Object(d["a"])(M,f,v,!1,null,null,null),D=S.exports,A={name:"Dataset",components:{DatasetForm:p,DatasetList:D},props:{initialSearchFilter:{type:i["a"],required:!1,default:null}},data:function(){return{searchFilter:new i["a"](this.initialSearchFilter)}}},j=A,_=Object(d["a"])(j,r,n,!1,null,null,null);t["default"]=_.exports},"820e":function(e,t,a){"use strict";var r=a("23e7"),n=a("1c0b"),i=a("f069"),s=a("e667"),o=a("2266");r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,a=i.f(t),r=a.resolve,l=a.reject,c=s((function(){var a=n(t.resolve),i=[],s=0,l=1;o(e,(function(e){var n=s++,o=!1;i.push(void 0),l++,a.call(t,e).then((function(e){o||(o=!0,i[n]={status:"fulfilled",value:e},--l||r(i))}),(function(e){o||(o=!0,i[n]={status:"rejected",reason:e},--l||r(i))}))})),--l||r(i)}));return c.error&&l(c.value),a.promise}})},a15b:function(e,t,a){"use strict";var r=a("23e7"),n=a("44ad"),i=a("fc6a"),s=a("a640"),o=[].join,l=n!=Object,c=s("join",",");r({target:"Array",proto:!0,forced:l||!c},{join:function(e){return o.call(i(this),void 0===e?",":e)}})},addb:function(e,t){var a=Math.floor,r=function(e,t){var s=e.length,o=a(s/2);return s<8?n(e,t):i(r(e.slice(0,o),t),r(e.slice(o),t),t)},n=function(e,t){var a,r,n=e.length,i=1;while(i<n){r=i,a=e[i];while(r&&t(e[r-1],a)>0)e[r]=e[--r];r!==i++&&(e[r]=a)}return e},i=function(e,t,a){var r=e.length,n=t.length,i=0,s=0,o=[];while(i<r||s<n)i<r&&s<n?o.push(a(e[i],t[s])<=0?e[i++]:t[s++]):o.push(i<r?e[i++]:t[s++]);return o};e.exports=r},b85c:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0");var r=a("06c5");function n(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=Object(r["a"])(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,s=e},f:function(){try{o||null==a["return"]||a["return"]()}finally{if(l)throw s}}}}},d998:function(e,t,a){var r=a("342f");e.exports=/MSIE|Trident/.test(r)},f4cd:function(e,t,a){var r={"./":["feb8"],"./AiaLevel1":["0584","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","AiaLevel1"],"./AiaLevel1.vue":["0584","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","AiaLevel1"],"./EitLevel0":["fff9","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","EitLevel0"],"./EitLevel0.vue":["fff9","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","EitLevel0"],"./HmiMagnetogram":["a220","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","HmiMagnetogram"],"./HmiMagnetogram.vue":["a220","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","HmiMagnetogram"],"./Metadata":["cf02","Metadata"],"./Metadata.vue":["cf02","Metadata"],"./MetadataDetail":["da68","MetadataDetail"],"./MetadataDetail.vue":["da68","MetadataDetail"],"./MetadataList":["1344","MetadataList"],"./MetadataList.vue":["1344","MetadataList"],"./MetadataMixin":["1814","MetadataMixin"],"./MetadataMixin.js":["1814","MetadataMixin"],"./SwapLevel1":["a991","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","SwapLevel1"],"./SwapLevel1.vue":["a991","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","SwapLevel1"],"./Xrt":["f513","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","Xrt"],"./Xrt.vue":["f513","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","Xrt"],"./index":["feb8"],"./index.js":["feb8"]};function n(e){if(!a.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a(n)}))}n.keys=function(){return Object.keys(r)},n.id="f4cd",e.exports=n},feb8:function(e,t,a){"use strict";a.r(t),t["default"]={default:"Metadata","AIA level 1":"AiaLevel1","EIT level 0":"EitLevel0","HMI magnetogram":"HmiMagnetogram","SWAP level 1":"SwapLevel1",XRT:"Xrt"}}}]);
//# sourceMappingURL=Dataset.61bfbdaa.js.map