(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["HekEvent","Dataset"],{"40dd":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-row",[a("b-col",{attrs:{cols:"4"}},[a("hek-event-form",{model:{value:e.searchFilter,callback:function(t){e.searchFilter=t},expression:"searchFilter"}})],1),a("b-col",{attrs:{cols:"8"}},[a("hek-event-list",{attrs:{"search-filter":e.searchFilter}})],1)],1)},r=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-form",{on:{submit:function(t){return t.preventDefault(),e.updateSearchFilter.apply(null,arguments)}}},[a("b-form-group",{attrs:{label:"Event types","label-for":"event-type"}},[a("b-form-select",{attrs:{id:"event-type",options:e.searchFilter.eventTypeOptions,multiple:""},model:{value:e.searchFilter.eventType,callback:function(t){e.$set(e.searchFilter,"eventType",t)},expression:"searchFilter.eventType"}})],1),a("base-datetime-range",{attrs:{label:"Event time","min-label":"Start","max-label":"End"},model:{value:e.searchFilter.dateRange,callback:function(t){e.$set(e.searchFilter,"dateRange",t)},expression:"searchFilter.dateRange"}}),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Search")])],1)},l=[],s=a("2909"),o=a("3835"),v=a("d4ec"),c=a("bee2"),d=a("ade3"),m=(a("d81d"),a("4fad"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("a15b"),a("5fb0")),p=function(){function e(t){Object(v["a"])(this,e),Object(d["a"])(this,"eventType",[]),Object(d["a"])(this,"dateRange",{min:null,max:null}),Object(d["a"])(this,"eventTypeOptions",Object.entries(m["f"]).map((function(e){var t=Object(o["a"])(e,2),a=t[0],i=t[1];return{value:a,text:i}}))),t&&(Array.isArray(t.eventType)&&(this.eventType=Object(s["a"])(t.eventType)),t.dateRange&&(this.dateRange={min:t.dateRange.min,max:t.dateRange.max}))}return Object(c["a"])(e,[{key:"getSearchParams",value:function(){var e=new URLSearchParams(m["e"]);return this.eventType&&this.eventType.length>0&&e.set("event_type",this.eventType.join(",")),this.dateRange.min&&e.set("event_starttime",this.dateRange.min.toISOString()),this.dateRange.max&&e.set("event_endtime",this.dateRange.max.toISOString()),e}}]),e}(),u={name:"HekEventForm",props:{value:{type:p,required:!0}},data:function(){return{searchFilter:new p(this.value)}},methods:{updateSearchFilter:function(){this.$emit("input",new p(this.searchFilter))}}},L=u,h=a("2877"),g=Object(h["a"])(L,n,l,!1,null,null,null),M=g.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-overlay",{attrs:{show:e.paginator.loading,rounded:"sm"}},[a("b-table",{ref:"eventTable",attrs:{id:e.paginator.ariaControl,items:e.paginator.items,fields:e.eventTableFields,caption:e.eventTableCaption,"primary-key":"id","select-mode":"single",small:"",hover:"",selectable:""},on:{"row-selected":e.showEventDetailModal},scopedSlots:e._u([{key:"cell(checkbox)",fn:function(t){return[a("b-form-checkbox",{attrs:{value:t.item,size:"lg"},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}})]}}])}),a("b-button-toolbar",{attrs:{"key-nav":""}},[a("b-button",{attrs:{disabled:e.selectionEmpty,variant:"primary",title:"Select one or more event to search for overlapping data"},on:{click:e.showOverlappingDatasetModal}},[e._v("Search overlapping ("+e._s(e.selection.length)+")")]),a("span",{staticClass:"button-toolbar-spacer"}),a("b-pagination",{staticClass:"mb-0",attrs:{"total-rows":e.paginator.totalRows,"per-page":e.paginator.pageSize,"aria-controls":e.paginator.ariaControl,limit:"3","hide-goto-end-buttons":""},model:{value:e.paginator.pageNumber,callback:function(t){e.$set(e.paginator,"pageNumber",t)},expression:"paginator.pageNumber"}})],1)],1),a("b-modal",{ref:"eventDetailModal",attrs:{size:"md",title:e.eventDetailModalTitle,"hide-footer":"",static:"",lazy:""}},[e.eventDetailModalEvent?a("hek-event-detail",{attrs:{event:e.eventDetailModalEvent}}):e._e()],1),a("b-modal",{ref:"overlappingDatasetsModal",attrs:{size:"xl",title:e.overlappingDatasetsModalTitle,"hide-footer":"",static:"",lazy:""}},[a("dataset",{attrs:{"initial-search-filter":e.overlappingDatasetsModalSearchFilter}})],1)],1)},E=[],C=(a("6062"),a("a630"),a("99af"),a("1fdb")),y=a("72f4"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-img",{attrs:{center:"",fluid:"",src:e.event.thumbnailUrl,alt:"Event thumbnail"}}),a("dl",{staticClass:"dl-horizontal"},[a("dt",[e._v("Start time")]),a("dd",[e._v(e._s(e.$utils.formatDate(e.event.startTime)))]),a("dt",[e._v("End time")]),a("dd",[e._v(e._s(e.$utils.formatDate(e.event.endTime)))]),a("dt",[e._v("Recognition method")]),a("dd",[e._v(e._s(e.event.frm_name))]),a("dt",[e._v("Identifier name")]),a("dd",[e._v(e._s(e.event.frm_identifier))])]),a("a",{attrs:{href:e.event.detailUrl,target:"_blank"}},[e._v("See more details")])],1)},H=[],k={name:"HekEventDetail",props:{event:{type:Object,required:!0}}},D=k,S=Object(h["a"])(D,b,H,!1,null,null,null),w=S.exports,A={name:"HekEventList",components:{HekEventDetail:w,Dataset:y["default"]},props:{searchFilter:{type:p,required:!0}},data:function(){return{paginator:this.$HEK.getPaginator(),selection:[],eventDetailModalEvent:null,eventDetailModalTitle:"",overlappingDatasetsModalSearchFilter:new C["a"],overlappingDatasetsModalTitle:"Datasets"}},computed:{eventTableFields:function(){return[{key:"checkbox",label:""},{key:"type",label:"Type"},{key:"startTime",label:"Start time",formatter:this.$utils.formatDate},{key:"endTime",label:"End time",formatter:this.$utils.formatDate}]},eventTableCaption:function(){return this.paginator.items.length>0?"Click on any row to see the event details":"No event correspond to your search criteria"},selectionEmpty:function(){return 0==this.selection.length}},watch:{searchFilter:{handler:"updatePaginator",immediate:!0}},methods:{updatePaginator:function(e){this.paginator.searchParams=e.getSearchParams();try{this.paginator.loadPage(1),this.selection=[]}catch(t){this.$displayErrorMessage(t)}},showEventDetailModal:function(e){e.length>0&&(this.eventDetailModalEvent=e[0],this.eventDetailModalTitle=this.eventDetailModalEvent.type,this.$refs.eventTable.clearSelected(),this.$nextTick((function(){this.$refs.eventDetailModal.show()})))},showOverlappingDatasetModal:function(){var e=new Set(this.selection.map((function(e){return e.type})));this.overlappingDatasetsModalTitle="Datasets overlapping selected ".concat(Array.from(e).join(", ")," events"),this.overlappingDatasetsModalSearchFilter=new C["a"]({dateRange:{min:new Date(Math.min.apply(Math,Object(s["a"])(this.selection.map((function(e){return e.startTime}))))),max:new Date(Math.max.apply(Math,Object(s["a"])(this.selection.map((function(e){return e.endTime})))))},search:this.selection.map((function(e){return"(date_beg__lt = ".concat(e.endTime.toISOString()," and date_end__gt = ").concat(e.startTime.toISOString(),")")})).join(" or ")}),this.$refs.overlappingDatasetsModal.show()}}},x=A,_=Object(h["a"])(x,f,E,!1,null,null,null),T=_.exports,F={name:"HekEvent",components:{HekEventForm:M,HekEventList:T},props:{initialSearchFilter:{type:p,required:!1,default:null}},data:function(){return{searchFilter:new p(this.initialSearchFilter)}}},O=F,R=Object(h["a"])(O,i,r,!1,null,null,null);t["default"]=R.exports},6062:function(e,t,a){"use strict";var i=a("6d61"),r=a("6566");e.exports=i("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},6566:function(e,t,a){"use strict";var i=a("9bf2").f,r=a("7c73"),n=a("e2cc"),l=a("0366"),s=a("19aa"),o=a("2266"),v=a("7dd0"),c=a("2626"),d=a("83ab"),m=a("f183").fastKey,p=a("69f3"),u=p.set,L=p.getterFor;e.exports={getConstructor:function(e,t,a,v){var c=e((function(e,i){s(e,c,t),u(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=i&&o(i,e[v],{that:e,AS_ENTRIES:a})})),p=L(t),h=function(e,t,a){var i,r,n=p(e),l=g(e,t);return l?l.value=a:(n.last=l={index:r=m(t,!0),key:t,value:a,previous:i=n.last,next:void 0,removed:!1},n.first||(n.first=l),i&&(i.next=l),d?n.size++:e.size++,"F"!==r&&(n.index[r]=l)),e},g=function(e,t){var a,i=p(e),r=m(t);if("F"!==r)return i.index[r];for(a=i.first;a;a=a.next)if(a.key==t)return a};return n(c.prototype,{clear:function(){var e=this,t=p(e),a=t.index,i=t.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete a[i.index],i=i.next;t.first=t.last=void 0,d?t.size=0:e.size=0},delete:function(e){var t=this,a=p(t),i=g(t,e);if(i){var r=i.next,n=i.previous;delete a.index[i.index],i.removed=!0,n&&(n.next=r),r&&(r.previous=n),a.first==i&&(a.first=r),a.last==i&&(a.last=n),d?a.size--:t.size--}return!!i},forEach:function(e){var t,a=p(this),i=l(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:a.first){i(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!g(this,e)}}),n(c.prototype,a?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return h(this,0===e?0:e,t)}}:{add:function(e){return h(this,e=0===e?0:e,e)}}),d&&i(c.prototype,"size",{get:function(){return p(this).size}}),c},setStrong:function(e,t,a){var i=t+" Iterator",r=L(t),n=L(i);v(e,t,(function(e,t){u(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){var e=n(this),t=e.kind,a=e.last;while(a&&a.removed)a=a.previous;return e.target&&(e.last=a=a?a.next:e.state.first)?"keys"==t?{value:a.key,done:!1}:"values"==t?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),c(t)}}},f4cd:function(e,t,a){var i={"./":["feb8"],"./AiaLevel1":["0584","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","AiaLevel1~Chromis~Crisp~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","AiaLevel1"],"./AiaLevel1.vue":["0584","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","AiaLevel1~Chromis~Crisp~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","AiaLevel1"],"./Chromis":["d5d7","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","AiaLevel1~Chromis~Crisp~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","Chromis"],"./Chromis.vue":["d5d7","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","AiaLevel1~Chromis~Crisp~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","Chromis"],"./Crisp":["d54f","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","AiaLevel1~Chromis~Crisp~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","Crisp"],"./Crisp.vue":["d54f","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","AiaLevel1~Chromis~Crisp~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","Crisp"],"./EitLevel0":["fff9","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","AiaLevel1~Chromis~Crisp~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","EitLevel0"],"./EitLevel0.vue":["fff9","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","AiaLevel1~Chromis~Crisp~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","EitLevel0"],"./HmiMagnetogram":["a220","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","AiaLevel1~Chromis~Crisp~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","HmiMagnetogram"],"./HmiMagnetogram.vue":["a220","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","AiaLevel1~Chromis~Crisp~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","HmiMagnetogram"],"./LyraLevel2":["d66f","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","LyraLevel2"],"./LyraLevel2.vue":["d66f","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","LyraLevel2"],"./Metadata":["cf02","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","Metadata"],"./Metadata.vue":["cf02","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","Metadata"],"./MetadataDetail":["da68","MetadataDetail"],"./MetadataDetail.vue":["da68","MetadataDetail"],"./MetadataList":["1344","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","MetadataList"],"./MetadataList.vue":["1344","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","MetadataList"],"./MetadataMixin":["1814","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","MetadataMixin"],"./MetadataMixin.js":["1814","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","MetadataMixin"],"./SwapLevel1":["a991","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","AiaLevel1~Chromis~Crisp~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","SwapLevel1"],"./SwapLevel1.vue":["a991","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","AiaLevel1~Chromis~Crisp~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","SwapLevel1"],"./Xrt":["f513","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","AiaLevel1~Chromis~Crisp~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","Xrt"],"./Xrt.vue":["f513","AiaLevel1~Chromis~Crisp~Dataset~EitLevel0~HekEvent~HmiMagnetogram~LyraLevel2~Metadata~MetadataList~M~10eac2cc","AiaLevel1~Chromis~Crisp~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","Xrt"],"./index":["feb8"],"./index.js":["feb8"]};function r(e){if(!a.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a(r)}))}r.keys=function(){return Object.keys(i)},r.id="f4cd",e.exports=r},feb8:function(e,t,a){"use strict";a.r(t),t["default"]={default:"Metadata","AIA level 1":"AiaLevel1",CRISP:"Crisp",CHROMIS:"Chromis","EIT level 0":"EitLevel0","HMI magnetogram":"HmiMagnetogram","SWAP level 1":"SwapLevel1","LYRA level 2":"LyraLevel2","LYRA level 3":"LyraLevel2",XRT:"Xrt"}}}]);
//# sourceMappingURL=HekEvent.f33bcf27.js.map