"use strict";(self["webpackChunksvo"]=self["webpackChunksvo"]||[]).push([[200,930],{2200:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-row",[r("b-col",{attrs:{cols:"4"}},[r("b-form",{on:{submit:function(t){return t.preventDefault(),e.updateSearchParams.apply(null,arguments)}}},[r("base-datetime-range",{attrs:{label:"Observation date","min-label":"Start","max-label":"End"},model:{value:e.searchFilter.dateRange,callback:function(t){e.$set(e.searchFilter,"dateRange",t)},expression:"searchFilter.dateRange"}}),r("b-form-group",{attrs:{label:"Wavelength","label-for":"wavelengths"}},[r("b-form-select",{attrs:{id:"wavelengths",options:e.searchFilter.wavelengthOptions,multiple:""},model:{value:e.searchFilter.wavelengths,callback:function(t){e.$set(e.searchFilter,"wavelengths",t)},expression:"searchFilter.wavelengths"}})],1),r("b-form-group",{attrs:{label:"Detector","label-for":"detectors"}},[r("b-form-select",{attrs:{id:"detectors",options:e.searchFilter.detectorOptions,multiple:""},model:{value:e.searchFilter.detectors,callback:function(t){e.$set(e.searchFilter,"detectors",t)},expression:"searchFilter.detectors"}})],1),r("b-form-group",{attrs:{label:"Compression","label-for":"compressions"}},[r("b-form-select",{attrs:{id:"compressions",options:e.searchFilter.compressionOptions,multiple:""},model:{value:e.searchFilter.compressions,callback:function(t){e.$set(e.searchFilter,"compressions",t)},expression:"searchFilter.compressions"}})],1),e.tags.length?r("tag-selector",{attrs:{tags:e.tags},model:{value:e.searchFilter.tags,callback:function(t){e.$set(e.searchFilter,"tags",t)},expression:"searchFilter.tags"}}):e._e(),r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Search")])],1)],1),r("b-col",{attrs:{cols:"8"}},[r("metadata-list",{attrs:{dataset:e.dataset,"search-params":e.searchParams,tags:e.tags,keywords:e.keywords,"default-columns":e.defaultColumns}})],1)],1)},a=[],s=r(2032),o=r(8932),i=r(6133),l=r(2751),c=r(3263),u=r(460),f=r(7349),h=r(796),p=r(6777),d=r(3796),m=(r(1249),r(7327),r(1539),r(2156)),g=r(9761),v=[174,304,1216],y=["FSI","HRI_EUV","HRI_LYA"],b=["Lossless","Lossy-extreme","Lossy-high quality","Lossy-strong"],w=function(e){(0,h.Z)(r,e);var t=(0,p.Z)(r);function r(e){var n;if((0,i.Z)(this,r),n=t.call(this,e),(0,d.Z)((0,c.Z)(n),"wavelengthOptions",v.map((function(e){return{value:e,text:"".concat(e," Å")}}))),(0,d.Z)((0,c.Z)(n),"detectorOptions",y),(0,d.Z)((0,c.Z)(n),"compressionOptions",b),(0,d.Z)((0,c.Z)(n),"wavelengths",[]),(0,d.Z)((0,c.Z)(n),"detectors",[]),(0,d.Z)((0,c.Z)(n),"compressions",[]),e){if(Array.isArray(e.wavelengths))n.wavelengths=(0,o.Z)(e.wavelengths);else if(e.wavelengthRange){var a=null!=e.wavelengthRange.min?10*e.wavelengthRange.min:-1/0,s=null!=e.wavelengthRange.max?10*e.wavelengthRange.max:1/0;(isFinite(a)||isFinite(s))&&(n.wavelengths=v.filter((function(e){return a<=e&&e<=s})))}Array.isArray(e.detectors)&&(n.detectors=(0,o.Z)(e.detectors)),Array.isArray(e.compressions)&&(n.detectors=(0,o.Z)(e.compressions))}return n}return(0,l.Z)(r,[{key:"getSearchParams",value:function(){var e,t=(0,u.Z)((0,f.Z)(r.prototype),"getSearchParams",this).call(this),n=(0,s.Z)(this.wavelengths);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.append("wavelnth__in",a)}}catch(d){n.e(d)}finally{n.f()}var o,i=(0,s.Z)(this.detectors);try{for(i.s();!(o=i.n()).done;){var l=o.value;t.append("detector__in",l)}}catch(d){i.e(d)}finally{i.f()}var c,h=(0,s.Z)(this.compressions);try{for(h.s();!(c=h.n()).done;){var p=c.value;t.append("compress__in",p)}}catch(d){h.e(d)}finally{h.f()}return t}}]),r}(g.Z),Z={name:"EuiLevel2",mixins:[m["default"]],data:function(){return{searchFilter:new w(this.initialSearchFilter),defaultColumns:[{label:"Observation date",key:"date_obs",formatter:this.$utils.formatDate},{label:"Wavelength (Å)",key:"wavelnth"},{label:"Detector",key:"detector"},{label:"Compression",key:"compress"}]}}},O=Z,R=r(1001),_=(0,R.Z)(O,n,a,!1,null,null,null),S=_.exports},4945:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-form-group",{attrs:{label:"Tags","label-for":e.inputId}},[r("b-form-select",{attrs:{id:e.inputId,value:e.value,options:e.tagOptions,multiple:""},on:{input:function(t){return e.$emit("input",t.target.value)}}})],1)},a=[],s=(r(1249),r(8309),{name:"TagSelector",props:{value:{type:Array,required:!0},tags:{type:Array,required:!0}},data:function(){return{inputId:this.$utils.getUniqueId()}},computed:{tagOptions:function(){return this.tags.map((function(e){return{value:e.name,text:e.name}}))}}}),o=s,i=r(1001),l=(0,i.Z)(o,n,a,!1,null,null,null),c=l.exports},2156:function(e,t,r){r.r(t);var n=r(6198),a=(r(5666),r(1539),r(8783),r(3948),r(1637),r(8309),r(9252)),s=r(4945),o=r(9761);t["default"]={components:{MetadataList:a["default"],TagSelector:s["default"]},props:{dataset:{type:Object,required:!0},initialSearchFilter:{type:Object,required:!1,default:null}},data:function(){return{searchFilter:new o.Z(this.initialSearchFilter),searchParams:new URLSearchParams,tags:[],keywords:[],defaultColumns:[{label:"Observation date",key:"date_beg",formatter:this.$utils.formatDate},{label:"Wavelength",key:"wavemin"}]}},created:function(){this.loadTags(),this.loadKeywords()},methods:{updateSearchParams:function(){this.searchParams=this.searchFilter.getSearchParams()},loadTags:function(){var e=(0,n.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$SVO.tag.getAll({dataset:this.dataset.name});case 3:this.tags=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$displayErrorMessage(this.$SVO.parseError(e.t0));case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}(),loadKeywords:function(){var e=(0,n.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$SVO.keyword.getAll({dataset__name:this.dataset.name});case 3:this.keywords=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$displayErrorMessage(this.$SVO.parseError(e.t0));case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}()}}},9761:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(2032),a=r(8932),s=r(6133),o=r(2751),i=r(3796),l=(r(4916),r(4765),r(1539),r(8783),r(3948),r(1637),function(){function e(t){(0,s.Z)(this,e),(0,i.Z)(this,"tags",[]),(0,i.Z)(this,"dateRange",{min:null,max:null}),t&&(Array.isArray(t.tags)&&(this.tags=(0,a.Z)(t.tags)),t.dateRange&&(this.dateRange={min:t.dateRange.min,max:t.dateRange.max}),this.search=t.search)}return(0,o.Z)(e,[{key:"getSearchParams",value:function(){var e,t=new URLSearchParams,r=(0,n.Z)(this.tags);try{for(r.s();!(e=r.n()).done;){var a=e.value;t.append("tags__in",a)}}catch(s){r.e(s)}finally{r.f()}return this.dateRange.min&&t.set("date_end__gte",this.dateRange.min.toISOString()),this.dateRange.max&&t.set("date_beg__lte",this.dateRange.max.toISOString()),this.search&&t.set("search",this.search),t}}]),e}())},3263:function(e,t,r){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},6777:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(7349);function a(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var o=r(3263);function i(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}function l(e){var t=a();return function(){var r,a=(0,n.Z)(e);if(t){var s=(0,n.Z)(this).constructor;r=Reflect.construct(a,arguments,s)}else r=a.apply(this,arguments);return i(this,r)}}},460:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(7349);function a(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=(0,n.Z)(e),null===e)break;return e}function s(){return s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=a(e,t);if(n){var s=Object.getOwnPropertyDescriptor(n,t);return s.get?s.get.call(arguments.length<3?e:r):s.value}},s.apply(this,arguments)}},7349:function(e,t,r){function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{Z:function(){return n}})},796:function(e,t,r){function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}r.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=200.ebc4ac4f.js.map