"use strict";(self["webpackChunksvo"]=self["webpackChunksvo"]||[]).push([[495,496,601,466,189,419],{4519:function(t,e,a){a.r(e),a.d(e,{default:function(){return R}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-row",[a("b-col",{attrs:{cols:"4"}},[a("b-form",{on:{submit:function(e){return e.preventDefault(),t.updateSearchParams.apply(null,arguments)}}},[a("base-datetime-range",{attrs:{label:"Observation date","min-label":"Start","max-label":"End"},model:{value:t.searchFilter.dateRange,callback:function(e){t.$set(t.searchFilter,"dateRange",e)},expression:"searchFilter.dateRange"}}),a("b-form-group",{attrs:{label:"Wavelength","label-for":"wavelengths"}},[a("b-form-select",{attrs:{id:"wavelengths",options:t.searchFilter.wavelengthOptions,multiple:""},model:{value:t.searchFilter.wavelengths,callback:function(e){t.$set(t.searchFilter,"wavelengths",e)},expression:"searchFilter.wavelengths"}})],1),a("b-form-group",{attrs:{description:"Only display data with a quality of 0"}},[a("b-form-checkbox",{model:{value:t.searchFilter.bestQuality,callback:function(e){t.$set(t.searchFilter,"bestQuality",e)},expression:"searchFilter.bestQuality"}},[t._v("Best quality only")])],1),a("b-overlay",{attrs:{show:t.showOverlay,rounded:"sm"}},[a("b-form-group",{attrs:{label:"Tags","label-for":"tags"}},[a("b-form-select",{attrs:{id:"tags",options:t.tagOptions,multiple:""},model:{value:t.searchFilter.tags,callback:function(e){t.$set(t.searchFilter,"tags",e)},expression:"searchFilter.tags"}})],1)],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Search")])],1)],1),a("b-col",{attrs:{cols:"8"}},[a("metadata-list",{attrs:{dataset:t.dataset,"search-params":t.searchParams,"default-columns":t.defaultColumns}})],1)],1)},n=[],i=a(2032),s=a(8932),o=a(6133),l=a(2751),u=a(3263),c=a(460),f=a(7349),h=a(796),p=a(6777),d=a(3796),g=(a(1249),a(7327),a(1539),a(2156)),m=a(9761),v=[94,131,171,193,211,304,335,1600,1700,4500],y=function(t){(0,h.Z)(a,t);var e=(0,p.Z)(a);function a(t){var r;if((0,o.Z)(this,a),r=e.call(this,t),(0,d.Z)((0,u.Z)(r),"wavelengthOptions",v.map((function(t){return{value:t,text:"".concat(t," Å")}}))),(0,d.Z)((0,u.Z)(r),"wavelengths",[]),(0,d.Z)((0,u.Z)(r),"bestQuality",void 0),t){if(Array.isArray(t.wavelengths))r.wavelengths=(0,s.Z)(t.wavelengths);else if(t.wavelengthRange){var n=null!=t.wavelengthRange.min?10*t.wavelengthRange.min:-1/0,i=null!=t.wavelengthRange.max?10*t.wavelengthRange.max:1/0;(isFinite(n)||isFinite(i))&&(r.wavelengths=v.filter((function(t){return n<=t&&t<=i})))}r.bestQuality=t.bestQuality}return r}return(0,l.Z)(a,[{key:"getSearchParams",value:function(){var t,e=(0,c.Z)((0,f.Z)(a.prototype),"getSearchParams",this).call(this),r=(0,i.Z)(this.wavelengths);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.append("wavelnth__in",n)}}catch(s){r.e(s)}finally{r.f()}return this.bestQuality&&e.set("quality",0),e}}]),a}(m.Z),b={name:"AiaLevel1",mixins:[g["default"]],data:function(){return{searchFilter:new y(this.initialSearchFilter),defaultColumns:[{label:"Observation date",key:"date_obs",formatter:this.$utils.formatDate},{label:"Wavelength (Å)",key:"wavelnth"},{label:"Quality",key:"quality"}]}}},w=b,O=a(1001),Z=(0,O.Z)(w,r,n,!1,null,null,null),R=Z.exports},2156:function(t,e,a){a.r(e);var r=a(6198),n=(a(5666),a(1539),a(8783),a(3948),a(1637),a(8309),a(1249),a(7950)),i=a(9761);e["default"]={components:{MetadataList:n["default"]},props:{dataset:{type:Object,required:!0},initialSearchFilter:{type:Object,required:!1,default:null}},data:function(){return{searchFilter:new i.Z(this.initialSearchFilter),searchParams:new URLSearchParams,tagOptions:[],defaultColumns:[{label:"Observation date",key:"date_beg",formatter:this.$utils.formatDate},{label:"Wavelength",key:"wavemin"}]}},created:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.showOverlay=!0,this.loadTagOptions(),this.showOverlay=!1;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{updateSearchParams:function(){this.searchParams=this.searchFilter.getSearchParams()},loadTagOptions:function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$SVO.tag.getAll({dataset:this.dataset.name});case 3:e=t.sent,this.tagOptions=e.map((function(t){return{value:t.name,text:t.name}})),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.$displayErrorMessage(this.$SVO.parseError(t.t0));case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()}}},9761:function(t,e,a){a.d(e,{Z:function(){return l}});var r=a(2032),n=a(8932),i=a(6133),s=a(2751),o=a(3796),l=(a(4916),a(4765),a(1539),a(8783),a(3948),a(1637),function(){function t(e){(0,i.Z)(this,t),(0,o.Z)(this,"tags",[]),(0,o.Z)(this,"dateRange",{min:null,max:null}),e&&(Array.isArray(e.tags)&&(this.tags=(0,n.Z)(e.tags)),e.dateRange&&(this.dateRange={min:e.dateRange.min,max:e.dateRange.max}),this.search=e.search)}return(0,s.Z)(t,[{key:"getSearchParams",value:function(){var t,e=new URLSearchParams,a=(0,r.Z)(this.tags);try{for(a.s();!(t=a.n()).done;){var n=t.value;e.append("tags__in",n)}}catch(i){a.e(i)}finally{a.f()}return this.dateRange.min&&e.set("date_end__gte",this.dateRange.min.toISOString()),this.dateRange.max&&e.set("date_beg__lte",this.dateRange.max.toISOString()),this.search&&e.set("search",this.search),e}}]),t}())},3263:function(t,e,a){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}a.d(e,{Z:function(){return r}})},6777:function(t,e,a){a.d(e,{Z:function(){return l}});var r=a(7349);function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var s=a(3263);function o(t,e){if(e&&("object"===i(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,s.Z)(t)}function l(t){var e=n();return function(){var a,n=(0,r.Z)(t);if(e){var i=(0,r.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return o(this,a)}}},460:function(t,e,a){a.d(e,{Z:function(){return i}});var r=a(7349);function n(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=(0,r.Z)(t),null===t)break;return t}function i(){return i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,a){var r=n(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:a):i.value}},i.apply(this,arguments)}},7349:function(t,e,a){function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}a.d(e,{Z:function(){return r}})},796:function(t,e,a){function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}function n(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)}a.d(e,{Z:function(){return n}})}}]);
//# sourceMappingURL=AiaLevel1.8be694c9.js.map