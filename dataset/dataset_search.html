<div class="modal-header">
	<button type="button" class="pull-right close" ng-click="$dismiss()"  title="Close the window">
		<span >&times;</span>
	</button>
	<h3 class="modal-title">Datasets</h3>
</div>
<div class="modal-body" bs-loading-overlay bs-loading-overlay-reference-id="{{ctrl.overlay_id}}">
	<table class="table table-hover table-responsive">
		<thead>
			<tr>
				<th></th>
				<th>Dataset</th>
				<th># Items</th>
				<th>Instrument</th>
				<th>Telescope</th>
				<th>Characteristics</th>
			</tr>
		</thead>
		<tfoot>
			<tr ng-switch="nonEmptyDatasets.length > 0">
				<td ng-switch-when="true" class="text-center small" colspan="100">Click on any row to see dataset content or refine search</td>
				<td ng-switch-default class="text-center text-warning" colspan="100">No dataset correspond to your search criteria</td>
			</tr>
		</tfoot>
		<tbody>
			<tr ng-repeat="dataset in ctrl.page.objects | noEmptyDataset as nonEmptyDatasets">
				<td><label class="wide-label"><input type="checkbox" checklist-model="ctrl.selected_datasets" checklist-value="dataset"/></label></td>
				<td ng-click="ctrl.open_detail(dataset)">{{dataset.name}}</td>
				<td ng-click="ctrl.open_detail(dataset)">{{dataset.metadata.number_items}}</td>
				<td ng-click="ctrl.open_detail(dataset)">{{dataset.instrument}}</td>
				<td ng-click="ctrl.open_detail(dataset)">{{dataset.telescope}}</td>
				<td ng-click="ctrl.open_detail(dataset)">{{dataset.characteristics | getProp:'name':', '}}</td>
			</tr>
		</tbody>
	</table>
	
	<div role="group">
		<button type="button" class="btn btn-primary" ng-click="ctrl.save_data_selection(ctrl.selected_datasets)" ng-class="{'disabled': ctrl.selected_datasets.length == 0}" title="Select one or more dataset to add to/create a selection">Save selection</button>
	</div>
</div>
