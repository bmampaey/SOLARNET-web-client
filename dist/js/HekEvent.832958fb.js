(self["webpackChunksvo"]=self["webpackChunksvo"]||[]).push([[850,470],{16458:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{attrs:{role:"navigation","aria-label":"Pagination","aria-controls":e.ariaControls}},[a("b-button",{staticClass:"mr-1",attrs:{disabled:1==e.currentPage,size:"sm",variant:"outline-dark",title:e.ariaLabel(e.jumpBackwardPage),"aria-label":e.ariaLabel(e.jumpBackwardPage)},on:{click:function(t){return e.selectPage(e.jumpBackwardPage)}}},[e._v(" « ")]),a("b-button-group",{attrs:{size:"sm"}},e._l(e.pages,(function(t){return a("b-button",{key:t,attrs:{disabled:e.currentPage==t,variant:t==e.currentPage?"primary":"outline-primary",title:e.ariaLabel(t),"aria-label":e.ariaLabel(t),"aria-current":t==e.currentPage?"page":"false"},on:{click:function(a){return e.selectPage(t)}}},[e._v(" "+e._s(t)+" ")])})),1),a("b-button",{staticClass:"ml-1",attrs:{disabled:e.currentPage==e.pageCount,size:"sm",variant:"outline-dark",title:e.ariaLabel(e.jumpForwardPage),"aria-label":e.ariaLabel(e.jumpForwardPage)},on:{click:function(t){return e.selectPage(e.jumpForwardPage)}}},[e._v(" » ")])],1)},r=[],i=(a(9653),{props:{value:{type:Number,required:!0},pageCount:{type:Number,required:!0},pageJump:{type:Number,default:10},pageDisplayed:{type:Number,default:5},ariaControls:{type:String,default:null}},data:function(){return{currentPage:this.value}},computed:{jumpBackwardPage:function(){return Math.max(1,this.currentPage-this.pageJump)},jumpForwardPage:function(){return Math.min(this.pageCount,this.currentPage+this.pageJump)},firstPage:function(){var e=Math.ceil(this.pageDisplayed/2);return Math.max(1,this.currentPage-e+1)},lastPage:function(){return Math.min(this.pageCount,this.firstPage+this.pageDisplayed-1)},pages:function(){for(var e=[],t=this.firstPage;t<=this.lastPage;t++)e.push(t);return e}},methods:{selectPage:function(e){e!=this.currentPage&&(this.currentPage=e,this.$emit("input",this.currentPage))},ariaLabel:function(e){return e==this.currentPage?null:"Go to Page ".concat(e)}}}),l=i,s=a(1001),o=(0,s.Z)(l,n,r,!1,null,null,null),u=o.exports},25348:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return $}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-row",[a("b-col",{attrs:{cols:"4"}},[a("hek-event-form",{model:{value:e.searchFilter,callback:function(t){e.searchFilter=t},expression:"searchFilter"}})],1),a("b-col",{attrs:{cols:"8"}},[a("hek-event-list",{attrs:{"search-filter":e.searchFilter}})],1)],1)},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-form",{on:{submit:function(t){return t.preventDefault(),e.updateSearchFilter.apply(null,arguments)}}},[a("b-form-group",{attrs:{label:"Event types","label-for":"event-type"}},[a("b-form-select",{attrs:{id:"event-type",options:e.searchFilter.eventTypeOptions,multiple:""},model:{value:e.searchFilter.eventType,callback:function(t){e.$set(e.searchFilter,"eventType",t)},expression:"searchFilter.eventType"}})],1),a("base-datetime-range",{attrs:{label:"Event time","min-label":"Start","max-label":"End"},model:{value:e.searchFilter.dateRange,callback:function(t){e.$set(e.searchFilter,"dateRange",t)},expression:"searchFilter.dateRange"}}),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Search")])],1)},l=[],s=a(68932),o=a(75200),u=a(76133),c=a(92751),v=a(23796),p=(a(21249),a(69720),a(41539),a(78783),a(33948),a(41637),a(69600),a(99308)),d=function(){function e(t){(0,u.Z)(this,e),(0,v.Z)(this,"eventType",[]),(0,v.Z)(this,"dateRange",{min:null,max:null}),(0,v.Z)(this,"eventTypeOptions",Object.entries(p.iq).map((function(e){var t=(0,o.Z)(e,2),a=t[0],n=t[1];return{value:a,text:n}}))),t&&(Array.isArray(t.eventType)&&(this.eventType=(0,s.Z)(t.eventType)),t.dateRange&&(this.dateRange={min:t.dateRange.min,max:t.dateRange.max}))}return(0,c.Z)(e,[{key:"getSearchParams",value:function(){var e=new URLSearchParams(p.vH);return this.eventType&&this.eventType.length>0&&e.set("event_type",this.eventType.join(",")),this.dateRange.min&&e.set("event_starttime",this.dateRange.min.toISOString()),this.dateRange.max&&e.set("event_endtime",this.dateRange.max.toISOString()),e}}]),e}(),h={name:"HekEventForm",props:{value:{type:d,required:!0}},data:function(){return{searchFilter:new d(this.value)}},methods:{updateSearchFilter:function(){this.$emit("input",new d(this.searchFilter))}}},f=h,m=a(1001),g=(0,m.Z)(f,i,l,!1,null,null,null),b=g.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-overlay",{attrs:{show:e.paginator.loading,rounded:"sm"}},[a("b-table",{ref:"eventTable",attrs:{id:e.paginator.ariaControls,items:e.paginator.items,fields:e.eventTableFields,caption:e.eventTableCaption,"primary-key":"id","select-mode":"single",small:"",hover:"",selectable:""},on:{"row-selected":e.showEventDetailModal},scopedSlots:e._u([{key:"cell(checkbox)",fn:function(t){return[a("b-form-checkbox",{attrs:{value:t.item,size:"lg"},model:{value:e.selection,callback:function(t){e.selection=t},expression:"selection"}})]}}])}),a("b-button-toolbar",{attrs:{"key-nav":""}},[a("b-button",{attrs:{disabled:e.selectionEmpty,variant:"primary",title:"Select one or more event to search for overlapping data"},on:{click:e.showOverlappingDatasetModal}},[e._v("Search overlapping ("+e._s(e.selection.length)+")")]),a("span",{staticClass:"button-toolbar-spacer"}),a("pagination",{staticClass:"mb-0",attrs:{"page-count":e.paginator.pageCount,"page-jump":1,"page-displayed":3,"aria-controls":e.paginator.ariaControls},model:{value:e.paginator.pageNumber,callback:function(t){e.$set(e.paginator,"pageNumber",t)},expression:"paginator.pageNumber"}})],1)],1),a("b-modal",{ref:"eventDetailModal",attrs:{size:"md",title:e.eventDetailModalTitle,"hide-footer":"",static:"",lazy:""}},[e.eventDetailModalEvent?a("hek-event-detail",{attrs:{event:e.eventDetailModalEvent}}):e._e()],1),a("b-modal",{ref:"overlappingDatasetsModal",attrs:{size:"xl",title:e.overlappingDatasetsModalTitle,"hide-footer":"",static:"",lazy:""}},[a("dataset",{attrs:{"initial-search-filter":e.overlappingDatasetsModalSearchFilter}})],1)],1)},E=[],k=(a(70189),a(91038),a(92222),a(90760)),_=a(69993),x=a(16458),P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-img",{attrs:{center:"",fluid:"",src:e.event.thumbnailUrl,alt:"Event thumbnail"}}),a("dl",{staticClass:"dl-horizontal"},[a("dt",[e._v("Start time")]),a("dd",[e._v(e._s(e.$utils.formatDate(e.event.startTime)))]),a("dt",[e._v("End time")]),a("dd",[e._v(e._s(e.$utils.formatDate(e.event.endTime)))]),a("dt",[e._v("Recognition method")]),a("dd",[e._v(e._s(e.event.frm_name))]),a("dt",[e._v("Identifier name")]),a("dd",[e._v(e._s(e.event.frm_identifier))])]),a("a",{attrs:{href:e.event.detailUrl,target:"_blank"}},[e._v("See more details")])],1)},S=[],T={name:"HekEventDetail",props:{event:{type:Object,required:!0}}},M=T,F=(0,m.Z)(M,P,S,!1,null,null,null),D=F.exports,w={name:"HekEventList",components:{HekEventDetail:D,Dataset:_["default"],Pagination:x.Z},props:{searchFilter:{type:d,required:!0}},data:function(){return{paginator:this.$HEK.getPaginator(),selection:[],eventDetailModalEvent:null,eventDetailModalTitle:"",overlappingDatasetsModalSearchFilter:new k.Z,overlappingDatasetsModalTitle:"Datasets"}},computed:{eventTableFields:function(){return[{key:"checkbox",label:""},{key:"type",label:"Type"},{key:"startTime",label:"Start time",formatter:this.$utils.formatDate},{key:"endTime",label:"End time",formatter:this.$utils.formatDate}]},eventTableCaption:function(){return this.paginator.items.length>0?"Click on any row to see the event details":"No event correspond to your search criteria"},selectionEmpty:function(){return 0==this.selection.length}},watch:{searchFilter:{handler:"updatePaginator",immediate:!0}},methods:{updatePaginator:function(e){this.paginator.searchParams=e.getSearchParams();try{this.paginator.loadPage(1),this.selection=[]}catch(t){this.$displayErrorMessage(t)}},showEventDetailModal:function(e){e.length>0&&(this.eventDetailModalEvent=e[0],this.eventDetailModalTitle=this.eventDetailModalEvent.type,this.$refs.eventTable.clearSelected(),this.$nextTick((function(){this.$refs.eventDetailModal.show()})))},showOverlappingDatasetModal:function(){var e=new Set(this.selection.map((function(e){return e.type})));this.overlappingDatasetsModalTitle="Datasets overlapping selected ".concat(Array.from(e).join(", ")," events"),this.overlappingDatasetsModalSearchFilter=new k.Z({dateRange:{min:new Date(Math.min.apply(Math,(0,s.Z)(this.selection.map((function(e){return e.startTime}))))),max:new Date(Math.max.apply(Math,(0,s.Z)(this.selection.map((function(e){return e.endTime})))))},search:this.selection.map((function(e){return"(date_beg__lte = ".concat(e.endTime.toISOString()," and date_end__gte = ").concat(e.startTime.toISOString(),")")})).join(" or ")}),this.$refs.overlappingDatasetsModal.show()}}},I=w,N=(0,m.Z)(I,y,E,!1,null,null,null),C=N.exports,L={name:"HekEvent",components:{HekEventForm:b,HekEventList:C},props:{initialSearchFilter:{type:d,required:!1,default:null}},data:function(){return{searchFilter:new d(this.initialSearchFilter)}}},R=L,A=(0,m.Z)(R,n,r,!1,null,null,null),$=A.exports},95631:function(e,t,a){"use strict";var n=a(3070).f,r=a(70030),i=a(89190),l=a(49974),s=a(25787),o=a(20408),u=a(70654),c=a(96340),v=a(19781),p=a(62423).fastKey,d=a(29909),h=d.set,f=d.getterFor;e.exports={getConstructor:function(e,t,a,u){var c=e((function(e,n){s(e,d),h(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),v||(e.size=0),void 0!=n&&o(n,e[u],{that:e,AS_ENTRIES:a})})),d=c.prototype,m=f(t),g=function(e,t,a){var n,r,i=m(e),l=b(e,t);return l?l.value=a:(i.last=l={index:r=p(t,!0),key:t,value:a,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=l),n&&(n.next=l),v?i.size++:e.size++,"F"!==r&&(i.index[r]=l)),e},b=function(e,t){var a,n=m(e),r=p(t);if("F"!==r)return n.index[r];for(a=n.first;a;a=a.next)if(a.key==t)return a};return i(d,{clear:function(){var e=this,t=m(e),a=t.index,n=t.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete a[n.index],n=n.next;t.first=t.last=void 0,v?t.size=0:e.size=0},delete:function(e){var t=this,a=m(t),n=b(t,e);if(n){var r=n.next,i=n.previous;delete a.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),a.first==n&&(a.first=r),a.last==n&&(a.last=i),v?a.size--:t.size--}return!!n},forEach:function(e){var t,a=m(this),n=l(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:a.first){n(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!b(this,e)}}),i(d,a?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),v&&n(d,"size",{get:function(){return m(this).size}}),c},setStrong:function(e,t,a){var n=t+" Iterator",r=f(t),i=f(n);u(e,t,(function(e,t){h(this,{type:n,target:e,state:r(e),kind:t,last:void 0})}),(function(){var e=i(this),t=e.kind,a=e.last;while(a&&a.removed)a=a.previous;return e.target&&(e.last=a=a?a.next:e.state.first)?"keys"==t?{value:a.key,done:!1}:"values"==t?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),c(t)}}},50863:function(e,t,a){var n=a(1702);e.exports=n(1..valueOf)},9653:function(e,t,a){"use strict";var n=a(19781),r=a(17854),i=a(1702),l=a(54705),s=a(98052),o=a(92597),u=a(79587),c=a(47976),v=a(52190),p=a(57593),d=a(47293),h=a(8006).f,f=a(31236).f,m=a(3070).f,g=a(50863),b=a(53111).trim,y="Number",E=r[y],k=E.prototype,_=r.TypeError,x=i("".slice),P=i("".charCodeAt),S=function(e){var t=p(e,"number");return"bigint"==typeof t?t:T(t)},T=function(e){var t,a,n,r,i,l,s,o,u=p(e,"number");if(v(u))throw _("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=b(u),t=P(u,0),43===t||45===t){if(a=P(u,2),88===a||120===a)return NaN}else if(48===t){switch(P(u,1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(i=x(u,2),l=i.length,s=0;s<l;s++)if(o=P(i,s),o<48||o>r)return NaN;return parseInt(i,n)}return+u};if(l(y,!E(" 0o1")||!E("0b1")||E("+0x1"))){for(var M,F=function(e){var t=arguments.length<1?0:E(S(e)),a=this;return c(k,a)&&d((function(){g(a)}))?u(Object(t),a,F):t},D=n?h(E):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),w=0;D.length>w;w++)o(E,M=D[w])&&!o(F,M)&&m(F,M,f(E,M));F.prototype=k,k.constructor=F,s(r,y,F)}},37227:function(e,t,a){"use strict";var n=a(77710),r=a(95631);n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},70189:function(e,t,a){a(37227)},452:function(e,t,a){"use strict";a.r(t),t["default"]={default:"Metadata","AIA level 1":"AiaLevel1",CRISP:"Crisp",CHROMIS:"Chromis","EIT level 0":"EitLevel0","EIT synoptic":"EitSynoptic","EUI level 1":"EuiLevel2","EUI level 2":"EuiLevel2","EUVI level 0":"EuviLevel0","GAIA DEM":"GaiaDem","HMI magnetogram":"HmiMagnetogram","SWAP level 1":"SwapLevel1","LYRA level 2":"LyraLevel2","LYRA level 3":"LyraLevel2",XRT:"Xrt"}}}]);
//# sourceMappingURL=HekEvent.832958fb.js.map