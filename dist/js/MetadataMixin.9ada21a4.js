"use strict";(self["webpackChunksvo"]=self["webpackChunksvo"]||[]).push([[601,496,189,419],{2156:function(e,t,a){a.r(t);var r=a(6198),n=(a(5666),a(1539),a(8783),a(3948),a(1637),a(8309),a(1249),a(7950)),s=a(9761);t["default"]={components:{MetadataList:n["default"]},props:{dataset:{type:Object,required:!0},initialSearchFilter:{type:Object,required:!1,default:null}},data:function(){return{searchFilter:new s.Z(this.initialSearchFilter),searchParams:new URLSearchParams,tagOptions:[],defaultColumns:[{label:"Observation date",key:"date_beg",formatter:this.$utils.formatDate},{label:"Wavelength",key:"wavemin"}]}},created:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.showOverlay=!0,this.loadTagOptions(),this.showOverlay=!1;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{updateSearchParams:function(){this.searchParams=this.searchFilter.getSearchParams()},loadTagOptions:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$SVO.tag.getAll({dataset:this.dataset.name});case 3:t=e.sent,this.tagOptions=t.map((function(e){return{value:e.name,text:e.name}})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$displayErrorMessage(this.$SVO.parseError(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()}}},9761:function(e,t,a){a.d(t,{Z:function(){return c}});var r=a(2032),n=a(8932),s=a(6133),i=a(2751),h=a(3796),c=(a(4916),a(4765),a(1539),a(8783),a(3948),a(1637),function(){function e(t){(0,s.Z)(this,e),(0,h.Z)(this,"tags",[]),(0,h.Z)(this,"dateRange",{min:null,max:null}),t&&(Array.isArray(t.tags)&&(this.tags=(0,n.Z)(t.tags)),t.dateRange&&(this.dateRange={min:t.dateRange.min,max:t.dateRange.max}),this.search=t.search)}return(0,i.Z)(e,[{key:"getSearchParams",value:function(){var e,t=new URLSearchParams,a=(0,r.Z)(this.tags);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.append("tags__in",n)}}catch(s){a.e(s)}finally{a.f()}return this.dateRange.min&&t.set("date_end__gte",this.dateRange.min.toISOString()),this.dateRange.max&&t.set("date_beg__lte",this.dateRange.max.toISOString()),this.search&&t.set("search",this.search),t}}]),e}())}}]);
//# sourceMappingURL=MetadataMixin.9ada21a4.js.map