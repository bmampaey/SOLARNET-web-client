(self["webpackChunksvo"]=self["webpackChunksvo"]||[]).push([[575],{6561:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("data-selection-list")},l=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-overlay",{attrs:{show:e.showOverlay,rounded:"sm"}},[a("b-table",{ref:"dataSelectionTable",attrs:{items:e.dataSelectionList,fields:e.dataSelectionTableFields,"primary-key":"id","select-mode":"single",caption:e.dataSelectionTableCaption,responsive:"",small:"",hover:"",selectable:""},on:{"row-selected":e.showDataSelectionDetailModal},scopedSlots:e._u([{key:"cell(ftp_button)",fn:function(e){return[a("b-button",{attrs:{href:e.item.ftp_download_url,target:"_blank",size:"sm",variant:"primary",title:"Download selection via ftp"}},[a("b-icon",{attrs:{icon:"folder-symlink"}})],1)]}},{key:"cell(zip_button)",fn:function(e){return[a("b-button",{attrs:{href:e.item.zip_download_url,target:"_blank",size:"sm",variant:"primary",title:"Download selection as zip file"}},[a("b-icon",{attrs:{icon:"file-earmark-zip"}})],1)]}},{key:"cell(delete_button)",fn:function(t){return[a("b-button",{attrs:{size:"sm",variant:"danger",title:"Delete data selection"},on:{click:function(a){return e.deleteDataSelection(t.item)}}},[a("b-icon",{attrs:{icon:"trash"}})],1)]}}])})],1),a("b-modal",{ref:"dataSelectionDetailModal",attrs:{size:"full",title:e.dataSelectionDetailModalTitle,"hide-footer":"",static:"",lazy:""}},[e.dataSelectionDetailModalDataSelection?a("data-selection-detail",{attrs:{"data-selection":e.dataSelectionDetailModalDataSelection}}):e._e()],1)],1)},o=[],r=a(6198),s=(a(5666),a(8309),a(7327),a(1539),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.dataSelection.description?a("b-card",{staticClass:"mb-2"},[a("b-card-text",{domProps:{textContent:e._s(e.dataSelection.description)}})],1):e._e(),a(e.metadataComponent,{tag:"component",staticClass:"mt-3",attrs:{dataset:e.dataset,"initial-search-filter":e.searchFilter}})],1)}),c=[],u=a(4367),d=(a(8783),a(3948),a(452)),v={name:"DataSelectionDetail",props:{dataSelection:{type:Object,required:!0}},data:function(){return{dataset:(0,u.Z)((0,u.Z)({},this.dataSelection.dataset),{},{metadata:this.dataSelection.metadata}),searchFilter:null}},computed:{metadataComponent:function(){var e=d["default"][this.dataset.name]||d["default"]["default"];return function(){return a(3273)("./"+e)}}}},f=v,m=a(1001),p=(0,m.Z)(f,s,c,!1,null,null,null),S=p.exports,h={name:"DataSelectionList",components:{DataSelectionDetail:S},data:function(){return{dataSelectionList:[],dataSelectionDetailModalDataSelection:null,dataSelectionDetailModalTitle:"",showOverlay:!0}},computed:{dataSelectionTableFields:function(){return[{key:"ftp_button",label:"FTP"},{key:"zip_button",label:"ZIP"},{key:"dataset",label:"Dataset",formatter:function(e){return e.name}},{key:"description",label:"Description",tdClass:"preformatted"},{key:"metadata",label:"Count",formatter:function(e){return e.count}},{key:"creation_time",label:"Date of creation",formatter:this.$utils.formatDate},{key:"delete_button",label:"Delete"}]},dataSelectionTableCaption:function(){return this.dataSelectionList.length>0?"Click on any row to see data selection details":"You have not saved any data selection yet"}},activated:function(){this.updateDataSelectionList()},methods:{updateDataSelectionList:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showOverlay=!0,t.prev=1,t.next=4,e.$SVO.data_selection.getAll();case 4:e.dataSelectionList=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),e.$displayErrorMessage(e.$SVO.parseError(t.t0));case 10:e.showOverlay=!1;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},showDataSelectionDetailModal:function(e){e.length>0&&(this.dataSelectionDetailModalDataSelection=e[0],this.dataSelectionDetailModalTitle=this.dataSelectionDetailModalDataSelection.dataset.name,this.$refs.dataSelectionTable.clearSelected(),this.$nextTick((function(){this.$refs.dataSelectionDetailModal.show()})))},deleteDataSelection:function(e){try{this.$SVO.data_selection.delete(e.resource_uri),this.dataSelectionList=this.dataSelectionList.filter((function(t){return t.resource_uri!=e.resource_uri}))}catch(t){this.$displayErrorMessage(this.$SVO.parseError(t))}}}},D=h,b=(0,m.Z)(D,n,o,!1,null,null,null),y=b.exports,L={name:"DataSelection",components:{DataSelectionList:y}},M=L,_=(0,m.Z)(M,i,l,!1,null,null,null),E=_.exports},7327:function(e,t,a){"use strict";var i=a(2109),l=a(2092).filter,n=a(1194),o=n("filter");i({target:"Array",proto:!0,forced:!o},{filter:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},452:function(e,t,a){"use strict";a.r(t),t["default"]={default:"Default","AIA level 1":"AiaLevel1",CRISP:"Crisp",CHROMIS:"Chromis","EIT level 0":"EitLevel0","EIT synoptic":"EitSynoptic","EUI level 1":"EuiLevel2","EUI level 2":"EuiLevel2","EUVI level 0":"EuviLevel0","GAIA DEM":"GaiaDem","HMI magnetogram":"HmiMagnetogram","SWAP level 1":"SwapLevel1","LYRA level 2":"LyraLevel2","LYRA level 3":"LyraLevel2",XRT:"Xrt"}},3273:function(e,t,a){var i={"./":[452],"./AiaLevel1":[370,278,463,156,961,636],"./AiaLevel1.vue":[370,278,463,156,961,636],"./Chromis":[7980,278,463,156,961,295],"./Chromis.vue":[7980,278,463,156,961,295],"./Crisp":[2785,278,463,156,961,561],"./Crisp.vue":[2785,278,463,156,961,561],"./Default":[8271,278,463,156,961,567],"./Default.vue":[8271,278,463,156,961,567],"./EitLevel0":[3507,278,463,156,961,993],"./EitLevel0.vue":[3507,278,463,156,961,993],"./EitSynoptic":[9481,278,463,156,961,928],"./EitSynoptic.vue":[9481,278,463,156,961,928],"./EuiLevel2":[1906,278,463,156,961,652],"./EuiLevel2.vue":[1906,278,463,156,961,652],"./EuviLevel0":[8607,278,463,156,961,717],"./EuviLevel0.vue":[8607,278,463,156,961,717],"./GaiaDem":[9268,278,463,156,961,360],"./GaiaDem.vue":[9268,278,463,156,961,360],"./HmiMagnetogram":[1601,278,463,156,961,691],"./HmiMagnetogram.vue":[1601,278,463,156,961,691],"./KeywordFilter":[3082,82],"./KeywordFilter.vue":[3082,82],"./LyraLevel2":[1889,278,463,156,961,954],"./LyraLevel2.vue":[1889,278,463,156,961,954],"./Metadata":[98,278,463,961,410],"./Metadata.vue":[98,278,463,961,410],"./MetadataDetail":[7020,219],"./MetadataDetail.vue":[7020,219],"./MetadataList":[7463,278,463,961,668],"./MetadataList.vue":[7463,278,463,961,668],"./MetadataMixin":[2156,278,463,156,961,412],"./MetadataMixin.js":[2156,278,463,156,961,412],"./SwapLevel1":[6435,278,463,156,961,406],"./SwapLevel1.vue":[6435,278,463,156,961,406],"./TagFilter":[1297,63],"./TagFilter.vue":[1297,63],"./Xrt":[3136,278,463,156,961,980],"./Xrt.vue":[3136,278,463,156,961,980],"./index":[452],"./index.js":[452]};function l(e){if(!a.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],l=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a(l)}))}l.keys=function(){return Object.keys(i)},l.id=3273,e.exports=l}}]);
//# sourceMappingURL=DataSelection.e4f2a393.js.map