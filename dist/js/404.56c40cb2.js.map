{"version":3,"file":"js/404.56c40cb2.js","mappings":"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","sources":["webpack://web-client/./src/components/metadata/KeywordFilter.vue","webpack://web-client/src/components/metadata/KeywordFilter.vue","webpack://web-client/./src/components/metadata/KeywordFilter.vue?0f54","webpack://web-client/./src/components/metadata/KeywordFilter.vue?2086","webpack://web-client/./src/components/metadata/Metadata.vue","webpack://web-client/src/components/metadata/Metadata.vue","webpack://web-client/./src/components/metadata/Metadata.vue?2c49","webpack://web-client/./src/components/metadata/Metadata.vue?1aeb","webpack://web-client/./src/components/metadata/TagFilter.vue","webpack://web-client/src/components/metadata/TagFilter.vue","webpack://web-client/./src/components/metadata/TagFilter.vue?a538","webpack://web-client/./src/components/metadata/TagFilter.vue?8f17"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-form-row',{staticClass:\"align-items-end\"},[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Add a filter for the keyword\",\"label-for\":_vm.uniqueId('select-keyword')}},[_c('v-select',{attrs:{\"id\":_vm.uniqueId('select-keyword'),\"options\":_vm.keywordOptions,\"label\":\"verbose_name\"},model:{value:(_vm.selectedKeyword),callback:function ($$v) {_vm.selectedKeyword=$$v},expression:\"selectedKeyword\"}})],1)],1),_c('b-col',{staticClass:\"mb-3\",attrs:{\"cols\":\"auto\"}},[_c('b-button',{attrs:{\"variant\":\"light\",\"disabled\":!_vm.selectedKeyword,\"title\":_vm.selectedKeyword ? `Add filter for keyword ${_vm.selectedKeyword.verbose_name}` : 'Select a keyword to add a filter',\"size\":\"sm\"},on:{\"click\":_vm.addKeywordFilter}},[_c('b-icon',{attrs:{\"icon\":\"plus\"}})],1)],1)],1),_vm._l((_vm.keywordFilters),function(keyword){return _c('b-form-row',{key:keyword.name,staticClass:\"align-items-top\"},[_c('b-col',[(keyword.type == 'text')?_c('b-form-group',{attrs:{\"label\":`${keyword.verbose_name} contains`,\"label-for\":_vm.uniqueId(keyword.name),\"description\":keyword.description}},[_c('b-form-input',{attrs:{\"id\":_vm.uniqueId(keyword.name),\"type\":\"text\"},model:{value:(_vm.filterValues[keyword.name]),callback:function ($$v) {_vm.$set(_vm.filterValues, keyword.name, $$v)},expression:\"filterValues[keyword.name]\"}})],1):(keyword.type == 'time (ISO 8601)')?_c('datetime-range',{attrs:{\"label\":`${keyword.verbose_name} is between`,\"description\":keyword.description},model:{value:(_vm.filterValues[keyword.name]),callback:function ($$v) {_vm.$set(_vm.filterValues, keyword.name, $$v)},expression:\"filterValues[keyword.name]\"}}):(keyword.type == 'integer')?_c('number-range',{attrs:{\"label\":`${keyword.verbose_name} is between`,\"unit\":keyword.unit,\"step\":\"1\",\"description\":keyword.description},model:{value:(_vm.filterValues[keyword.name]),callback:function ($$v) {_vm.$set(_vm.filterValues, keyword.name, $$v)},expression:\"filterValues[keyword.name]\"}}):(keyword.type == 'real')?_c('number-range',{attrs:{\"label\":`${keyword.verbose_name} is between`,\"unit\":keyword.unit,\"description\":keyword.description},model:{value:(_vm.filterValues[keyword.name]),callback:function ($$v) {_vm.$set(_vm.filterValues, keyword.name, $$v)},expression:\"filterValues[keyword.name]\"}}):(keyword.type == 'boolean')?_c('b-form-group',{attrs:{\"label\":`${keyword.verbose_name} is`,\"description\":keyword.description},scopedSlots:_vm._u([{key:\"default\",fn:function({ ariaDescribedby }){return [_c('b-form-radio-group',{attrs:{\"options\":[true, false],\"aria-describedby\":ariaDescribedby,\"buttons\":\"\",\"button-variant\":\"outline-dark\"},model:{value:(_vm.filterValues[keyword.name]),callback:function ($$v) {_vm.$set(_vm.filterValues, keyword.name, $$v)},expression:\"filterValues[keyword.name]\"}})]}}],null,true)}):_vm._e()],1),_c('b-col',{staticClass:\"mb-3\",attrs:{\"cols\":\"auto\"}},[_c('b-button',{attrs:{\"variant\":\"light\",\"title\":`Remove filter for keyword ${keyword.verbose_name}`,\"size\":\"sm\"},on:{\"click\":function($event){return _vm.removeKeywordFilter(keyword)}}},[_c('b-icon',{attrs:{\"icon\":\"x\"}})],1)],1)],1)})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div>\n\t\t<b-form-row class=\"align-items-end\">\n\t\t\t<b-col>\n\t\t\t\t<b-form-group label=\"Add a filter for the keyword\" :label-for=\"uniqueId('select-keyword')\">\n\t\t\t\t\t<v-select :id=\"uniqueId('select-keyword')\" v-model=\"selectedKeyword\" :options=\"keywordOptions\" label=\"verbose_name\"></v-select>\n\t\t\t\t</b-form-group>\n\t\t\t</b-col>\n\t\t\t<b-col cols=\"auto\" class=\"mb-3\">\n\t\t\t\t<b-button variant=\"light\" :disabled=\"!selectedKeyword\" :title=\"selectedKeyword ? `Add filter for keyword ${selectedKeyword.verbose_name}` : 'Select a keyword to add a filter'\" size=\"sm\" @click=\"addKeywordFilter\"><b-icon icon=\"plus\"></b-icon></b-button>\n\t\t\t</b-col>\n\t\t</b-form-row>\n\t\t<b-form-row v-for=\"keyword in keywordFilters\" :key=\"keyword.name\" class=\"align-items-top\">\n\t\t\t<b-col>\n\t\t\t\t<b-form-group v-if=\"keyword.type == 'text'\" :label=\"`${keyword.verbose_name} contains`\" :label-for=\"uniqueId(keyword.name)\" :description=\"keyword.description\">\n\t\t\t\t\t<b-form-input :id=\"uniqueId(keyword.name)\" v-model=\"filterValues[keyword.name]\" type=\"text\"></b-form-input>\n\t\t\t\t</b-form-group>\n\t\t\t\t<datetime-range v-else-if=\"keyword.type == 'time (ISO 8601)'\" v-model=\"filterValues[keyword.name]\" :label=\"`${keyword.verbose_name} is between`\" :description=\"keyword.description\"></datetime-range>\n\t\t\t\t<number-range v-else-if=\"keyword.type == 'integer'\" v-model=\"filterValues[keyword.name]\" :label=\"`${keyword.verbose_name} is between`\" :unit=\"keyword.unit\" step=\"1\" :description=\"keyword.description\"></number-range>\n\t\t\t\t<number-range v-else-if=\"keyword.type == 'real'\" v-model=\"filterValues[keyword.name]\" :label=\"`${keyword.verbose_name} is between`\" :unit=\"keyword.unit\" :description=\"keyword.description\"></number-range>\n\t\t\t\t<b-form-group v-else-if=\"keyword.type == 'boolean'\" v-slot=\"{ ariaDescribedby }\" :label=\"`${keyword.verbose_name} is`\" :description=\"keyword.description\">\n\t\t\t\t\t<b-form-radio-group v-model=\"filterValues[keyword.name]\" :options=\"[true, false]\" :aria-describedby=\"ariaDescribedby\" buttons button-variant=\"outline-dark\"></b-form-radio-group>\n\t\t\t\t</b-form-group>\n\t\t\t</b-col>\n\t\t\t<b-col cols=\"auto\" class=\"mb-3\">\n\t\t\t\t<b-button variant=\"light\" :title=\"`Remove filter for keyword ${keyword.verbose_name}`\" size=\"sm\" @click=\"removeKeywordFilter(keyword)\"><b-icon icon=\"x\"></b-icon></b-button>\n\t\t\t</b-col>\n\t\t</b-form-row>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'KeywordFilter',\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tkeywords: {\n\t\t\ttype: Array,\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tuniqueIdMap: new Map(),\n\t\t\tselectedKeyword: null,\n\t\t\tselectedKeywords: Object.fromEntries(this.keywords.map(keyword => [keyword.name, false])),\n\t\t\tfilterValues: Object.fromEntries(\n\t\t\t\tthis.keywords.map(keyword => (keyword.type == 'integer' || keyword.type == 'real' || keyword.type == 'time (ISO 8601)' ? [keyword.name, { min: null, max: null }] : [keyword.name, null]))\n\t\t\t)\n\t\t};\n\t},\n\tcomputed: {\n\t\tkeywordOptions() {\n\t\t\treturn this.keywords.filter(keyword => !this.selectedKeywords[keyword.name]);\n\t\t},\n\t\tkeywordFilters() {\n\t\t\treturn this.keywords.filter(keyword => this.selectedKeywords[keyword.name]);\n\t\t}\n\t},\n\twatch: {\n\t\tfilterValues: {\n\t\t\thandler: 'updateModelValue',\n\t\t\timmediate: true,\n\t\t\tdeep: true\n\t\t}\n\t},\n\tmethods: {\n\t\tuniqueId(value) {\n\t\t\tif (!this.uniqueIdMap.has(value)) {\n\t\t\t\tthis.uniqueIdMap.set(value, this.$utils.getUniqueId());\n\t\t\t}\n\t\t\treturn this.uniqueIdMap.get(value);\n\t\t},\n\t\taddKeywordFilter() {\n\t\t\tif (this.selectedKeyword) {\n\t\t\t\tthis.selectedKeywords[this.selectedKeyword.name] = true;\n\t\t\t\t// if (this.filterValues[this.selectedKeyword.name] == null) {\n\t\t\t\t// \tif (this.selectedKeyword.type == 'integer' || this.selectedKeyword.type == 'real' || this.selectedKeyword.type == 'time (ISO 8601)') {\n\t\t\t\t// \t\tthis.filterValues[this.selectedKeyword.name] = { min: null, max: null };\n\t\t\t\t// \t} else {\n\t\t\t\t// \t\tthis.filterValues[this.selectedKeyword.name] = null;\n\t\t\t\t// \t}\n\t\t\t\t// }\n\t\t\t\tthis.selectedKeyword = null;\n\t\t\t}\n\t\t},\n\t\tremoveKeywordFilter(keyword) {\n\t\t\tthis.selectedKeywords[keyword.name] = false;\n\t\t\tthis.selectedKeyword = keyword;\n\t\t\tthis.updateModelValue();\n\t\t},\n\t\tupdateModelValue() {\n\t\t\tlet searchFilter = [];\n\t\t\tfor (const keyword of this.keywordFilters) {\n\t\t\t\tif (keyword.type == 'text') {\n\t\t\t\t\tif (this.filterValues[keyword.name]) {\n\t\t\t\t\t\tsearchFilter.push(`(${keyword.name}__icontains=${this.filterValues[keyword.name]})`);\n\t\t\t\t\t}\n\t\t\t\t} else if (keyword.type == 'integer' || keyword.type == 'real') {\n\t\t\t\t\tif (this.filterValues[keyword.name]?.min) {\n\t\t\t\t\t\tsearchFilter.push(`(${keyword.name}__gte=${this.filterValues[keyword.name].min})`);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.filterValues[keyword.name]?.max) {\n\t\t\t\t\t\tsearchFilter.push(`(${keyword.name}__lte=${this.filterValues[keyword.name].max})`);\n\t\t\t\t\t}\n\t\t\t\t} else if (keyword.type == 'time (ISO 8601)') {\n\t\t\t\t\tif (this.filterValues[keyword.name]?.min) {\n\t\t\t\t\t\tsearchFilter.push(`(${keyword.name}__gte=${this.filterValues[keyword.name].min.toISOString()})`);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.filterValues[keyword.name]?.max) {\n\t\t\t\t\t\tsearchFilter.push(`(${keyword.name}__lte=${this.filterValues[keyword.name].max.toISOString()})`);\n\t\t\t\t\t}\n\t\t\t\t} else if (keyword.type == 'boolean') {\n\t\t\t\t\tif (this.filterValues[keyword.name]) {\n\t\t\t\t\t\tsearchFilter.push(`(${keyword.name}=${this.filterValues[keyword.name]})`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$emit('input', searchFilter.join('and'));\n\t\t}\n\t}\n};\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KeywordFilter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KeywordFilter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./KeywordFilter.vue?vue&type=template&id=83013b38&\"\nimport script from \"./KeywordFilter.vue?vue&type=script&lang=js&\"\nexport * from \"./KeywordFilter.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\",\"lg\":\"4\"}},[_c('b-card',{staticClass:\"mb-3\",attrs:{\"no-body\":\"\"}},[_c('b-card-header',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:(_vm.metadataFilterId),expression:\"metadataFilterId\"}],attrs:{\"header-tag\":\"header\",\"title\":\"Click to show/hide the metadata filters\"}},[_vm._v(\" Filter metadata \"),_c('b-button',{staticClass:\"hide-btn\",attrs:{\"size\":\"sm\",\"aria-controls\":_vm.metadataFilterId}},[_vm._v(\"Hide\")]),_c('b-button',{staticClass:\"show-btn\",attrs:{\"size\":\"sm\",\"aria-controls\":_vm.metadataFilterId}},[_vm._v(\"Show\")])],1),_c('b-collapse',{attrs:{\"id\":_vm.metadataFilterId,\"visible\":\"\"}},[_c('b-card-body',[_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.updateSearchParams.apply(null, arguments)}}},[_vm._t(\"default\",function(){return [_c('datetime-range',{attrs:{\"label\":\"Observation date\",\"min-label\":\"Start\",\"max-label\":\"End\"},model:{value:(_vm.searchFilter.dateRange),callback:function ($$v) {_vm.$set(_vm.searchFilter, \"dateRange\", $$v)},expression:\"searchFilter.dateRange\"}})]}),(_vm.tags.length)?_c('tag-filter',{attrs:{\"tags\":_vm.tags},model:{value:(_vm.searchFilter.tags),callback:function ($$v) {_vm.$set(_vm.searchFilter, \"tags\", $$v)},expression:\"searchFilter.tags\"}}):_vm._e(),(_vm.keywords.length)?_c('keyword-filter',{attrs:{\"keywords\":_vm.keywords},model:{value:(_vm.searchFilter.keywordFilter),callback:function ($$v) {_vm.$set(_vm.searchFilter, \"keywordFilter\", $$v)},expression:\"searchFilter.keywordFilter\"}}):_vm._e(),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Search\")])],2)],1)],1)],1)],1),_c('b-col',{attrs:{\"cols\":\"12\",\"lg\":\"8\"}},[_c('metadata-list',{attrs:{\"dataset\":_vm.dataset,\"search-params\":_vm.searchParams,\"tags\":_vm.tags,\"keywords\":_vm.keywords,\"default-columns\":_vm.defaultColumns}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div>\n\t\t<b-row>\n\t\t\t<b-col cols=\"12\" lg=\"4\">\n\t\t\t\t<b-card no-body class=\"mb-3\">\n\t\t\t\t\t<b-card-header v-b-toggle=\"metadataFilterId\" header-tag=\"header\" title=\"Click to show/hide the metadata filters\">\n\t\t\t\t\t\tFilter metadata\n\t\t\t\t\t\t<b-button size=\"sm\" class=\"hide-btn\" :aria-controls=\"metadataFilterId\">Hide</b-button>\n\t\t\t\t\t\t<b-button size=\"sm\" class=\"show-btn\" :aria-controls=\"metadataFilterId\">Show</b-button>\n\t\t\t\t\t</b-card-header>\n\t\t\t\t\t<b-collapse :id=\"metadataFilterId\" visible>\n\t\t\t\t\t\t<b-card-body>\n\t\t\t\t\t\t\t<!-- eslint-disable vue/no-mutating-props -->\n\t\t\t\t\t\t\t<b-form @submit.prevent=\"updateSearchParams\">\n\t\t\t\t\t\t\t\t<slot>\n\t\t\t\t\t\t\t\t\t<datetime-range v-model=\"searchFilter.dateRange\" label=\"Observation date\" min-label=\"Start\" max-label=\"End\"></datetime-range>\n\t\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t\t\t<tag-filter v-if=\"tags.length\" v-model=\"searchFilter.tags\" :tags=\"tags\"></tag-filter>\n\t\t\t\t\t\t\t\t<keyword-filter v-if=\"keywords.length\" v-model=\"searchFilter.keywordFilter\" :keywords=\"keywords\"></keyword-filter>\n\t\t\t\t\t\t\t\t<b-button type=\"submit\" variant=\"primary\">Search</b-button>\n\t\t\t\t\t\t\t</b-form>\n\t\t\t\t\t\t\t<!-- eslint-enable vue/no-mutating-props -->\n\t\t\t\t\t\t</b-card-body>\n\t\t\t\t\t</b-collapse>\n\t\t\t\t</b-card>\n\t\t\t</b-col>\n\t\t\t<b-col cols=\"12\" lg=\"8\">\n\t\t\t\t<metadata-list :dataset=\"dataset\" :search-params=\"searchParams\" :tags=\"tags\" :keywords=\"keywords\" :default-columns=\"defaultColumns\"></metadata-list>\n\t\t\t</b-col>\n\t\t</b-row>\n\t</div>\n</template>\n\n<script>\nimport TagFilter from './TagFilter';\nimport KeywordFilter from './KeywordFilter';\nimport MetadataList from './MetadataList';\n\nexport default {\n\tname: 'Metadata',\n\tcomponents: {\n\t\tTagFilter,\n\t\tKeywordFilter,\n\t\tMetadataList\n\t},\n\tprops: {\n\t\tdataset: { type: Object, required: true },\n\t\tsearchFilter: { type: Object, required: true },\n\t\tdefaultColumns: { type: Array, required: true }\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsearchParams: new URLSearchParams(),\n\t\t\ttags: [],\n\t\t\tkeywords: [],\n\t\t\tmetadataFilterId: this.$utils.getUniqueId()\n\t\t};\n\t},\n\tcreated() {\n\t\t// Fetch and create the options of the form select\n\t\tthis.loadTags();\n\t\tthis.loadKeywords();\n\t},\n\tmethods: {\n\t\tupdateSearchParams() {\n\t\t\tthis.searchParams = this.searchFilter.getSearchParams();\n\t\t},\n\t\tasync loadTags() {\n\t\t\ttry {\n\t\t\t\tthis.tags = await this.$SVO.tag.getAll({ dataset: this.dataset.name });\n\t\t\t} catch (error) {\n\t\t\t\tthis.$displayErrorMessage(this.$SVO.parseError(error));\n\t\t\t}\n\t\t},\n\t\tasync loadKeywords() {\n\t\t\ttry {\n\t\t\t\tthis.keywords = await this.$SVO.keyword.getAll({ dataset__name: this.dataset.name });\n\t\t\t} catch (error) {\n\t\t\t\tthis.$displayErrorMessage(this.$SVO.parseError(error));\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Metadata.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Metadata.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Metadata.vue?vue&type=template&id=3e5f6791&\"\nimport script from \"./Metadata.vue?vue&type=script&lang=js&\"\nexport * from \"./Metadata.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-form-group',{attrs:{\"label\":\"Tags\",\"label-for\":_vm.inputId}},[_c('b-form-select',{attrs:{\"id\":_vm.inputId,\"value\":_vm.value,\"options\":_vm.tagOptions,\"multiple\":\"\"},on:{\"input\":_vm.onInput}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<b-form-group label=\"Tags\" :label-for=\"inputId\">\n\t\t<b-form-select :id=\"inputId\" :value=\"value\" :options=\"tagOptions\" multiple @input=\"onInput\"></b-form-select>\n\t</b-form-group>\n</template>\n\n<script>\nexport default {\n\tname: 'TagFilter',\n\tprops: {\n\t\tvalue: { type: Array, required: true },\n\t\ttags: { type: Array, required: true }\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tinputId: this.$utils.getUniqueId()\n\t\t};\n\t},\n\tcomputed: {\n\t\ttagOptions() {\n\t\t\treturn this.tags.map(tag => ({ value: tag.name, text: tag.name }));\n\t\t}\n\t},\n\tmethods: {\n\t\tonInput(value) {\n\t\t\tthis.$emit('input', value);\n\t\t}\n\t}\n};\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TagFilter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TagFilter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TagFilter.vue?vue&type=template&id=6709d1d1&\"\nimport script from \"./TagFilter.vue?vue&type=script&lang=js&\"\nexport * from \"./TagFilter.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","uniqueId","keywordOptions","model","value","selectedKeyword","callback","$$v","expression","verbose_name","on","addKeywordFilter","_l","keywordFilters","keyword","key","name","type","description","filterValues","$set","unit","scopedSlots","_u","fn","ariaDescribedby","_e","$event","removeKeywordFilter","staticRenderFns","props","String","required","keywords","Array","data","uniqueIdMap","Map","selectedKeywords","Object","fromEntries","map","min","max","computed","filter","watch","handler","immediate","deep","methods","has","set","$utils","getUniqueId","get","updateModelValue","searchFilter","push","toISOString","$emit","join","component","directives","rawName","metadataFilterId","_v","preventDefault","updateSearchParams","apply","arguments","_t","dateRange","tags","length","keywordFilter","dataset","searchParams","defaultColumns","components","TagFilter","KeywordFilter","MetadataList","URLSearchParams","created","loadTags","loadKeywords","getSearchParams","$SVO","tag","getAll","error","$displayErrorMessage","parseError","dataset__name","inputId","tagOptions","onInput","text"],"sourceRoot":""}