(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Dataset"],{"04d1":function(e,t,a){var r=a("342f"),n=r.match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},"1fdb":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a("b85c"),n=a("2909"),s=a("d4ec"),i=a("bee2"),o=a("ade3"),l=(a("ac1f"),a("841c"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),function(){function e(t){Object(s["a"])(this,e),Object(o["a"])(this,"telescopes",[]),Object(o["a"])(this,"characteristics",[]),Object(o["a"])(this,"tags",[]),Object(o["a"])(this,"dateRange",{min:null,max:null}),Object(o["a"])(this,"wavelengthRange",{min:null,max:null}),t&&(Array.isArray(t.telescopes)&&(this.telescopes=Object(n["a"])(t.telescopes)),Array.isArray(t.characteristics)&&(this.characteristics=Object(n["a"])(t.characteristics)),Array.isArray(t.tags)&&(this.tags=Object(n["a"])(t.tags)),t.dateRange&&(this.dateRange={min:t.dateRange.min,max:t.dateRange.max}),t.wavelengthRange&&(this.wavelengthRange={min:t.wavelengthRange.min,max:t.wavelengthRange.max}),this.search=t.search)}return Object(i["a"])(e,[{key:"getSearchParams",value:function(){var e,t=new URLSearchParams,a=Object(r["a"])(this.telescopes);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.append("telescope__in",n)}}catch(d){a.e(d)}finally{a.f()}var s,i=Object(r["a"])(this.characteristics);try{for(i.s();!(s=i.n()).done;){var o=s.value;t.append("characteristics__in",o)}}catch(d){i.e(d)}finally{i.f()}var l,c=Object(r["a"])(this.tags);try{for(c.s();!(l=c.n()).done;){var u=l.value;t.append("tags__in",u)}}catch(d){c.e(d)}finally{c.f()}return this.dateRange.min&&t.set("date_end__gte",this.dateRange.min.toISOString()),this.dateRange.max&&t.set("date_beg__lte",this.dateRange.max.toISOString()),this.wavelengthRange.min&&t.set("wavemax__gte",this.wavelengthRange.min),this.wavelengthRange.max&&t.set("wavemin__lte",this.wavelengthRange.max),this.search&&t.set("search",this.search),t}}]),e}())},2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a("6b75");function n(e){if(Array.isArray(e))return Object(r["a"])(e)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var i=a("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){return n(e)||s(e)||Object(i["a"])(e)||o()}},"4e82":function(e,t,a){"use strict";var r=a("23e7"),n=a("1c0b"),s=a("7b0b"),i=a("50c4"),o=a("d039"),l=a("addb"),c=a("a640"),u=a("04d1"),d=a("d998"),h=a("2d00"),p=a("512c"),f=[],v=f.sort,m=o((function(){f.sort(void 0)})),b=o((function(){f.sort(null)})),g=c("sort"),w=!o((function(){if(h)return h<70;if(!(u&&u>3)){if(d)return!0;if(p)return p<603;var e,t,a,r,n="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:a=3;break;case 68:case 71:a=4;break;default:a=2}for(r=0;r<47;r++)f.push({k:t+r,v:a})}for(f.sort((function(e,t){return t.v-e.v})),r=0;r<f.length;r++)t=f[r].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}})),y=m||!b||!g||!w,S=function(e){return function(t,a){return void 0===a?-1:void 0===t?1:void 0!==e?+e(t,a)||0:String(t)>String(a)?1:-1}};r({target:"Array",proto:!0,forced:y},{sort:function(e){void 0!==e&&n(e);var t=s(this);if(w)return void 0===e?v.call(t):v.call(t,e);var a,r,o=[],c=i(t.length);for(r=0;r<c;r++)r in t&&o.push(t[r]);o=l(o,S(e)),a=o.length,r=0;while(r<a)t[r]=o[r++];while(r<c)delete t[r++];return t}})},"512c":function(e,t,a){var r=a("342f"),n=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},"72f4":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-row",[a("b-col",{attrs:{cols:"4"}},[a("dataset-form",{model:{value:e.searchFilter,callback:function(t){e.searchFilter=t},expression:"searchFilter"}})],1),a("b-col",{attrs:{cols:"8"}},[a("dataset-list",{attrs:{"search-filter":e.searchFilter}})],1)],1)},n=[],s=a("1fdb"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-overlay",{attrs:{show:e.showOverlay,rounded:"sm"}},[a("b-form",{on:{submit:function(t){return t.preventDefault(),e.updateSearchFilter.apply(null,arguments)}}},[a("b-form-group",{attrs:{label:"Telescopes","label-for":"telescopes"}},[a("b-form-select",{attrs:{id:"telescopes",options:e.telescopeOptions,multiple:""},model:{value:e.searchFilter.telescopes,callback:function(t){e.$set(e.searchFilter,"telescopes",t)},expression:"searchFilter.telescopes"}})],1),a("b-form-group",{attrs:{label:"Characteristics","label-for":"characteristics"}},[a("b-form-select",{attrs:{id:"characteristics",options:e.characteristicOptions,multiple:""},model:{value:e.searchFilter.characteristics,callback:function(t){e.$set(e.searchFilter,"characteristics",t)},expression:"searchFilter.characteristics"}})],1),a("b-form-group",{attrs:{label:"Tags","label-for":"tags"}},[a("b-form-select",{attrs:{id:"tags",options:e.tagOptions,multiple:""},model:{value:e.searchFilter.tags,callback:function(t){e.$set(e.searchFilter,"tags",t)},expression:"searchFilter.tags"}})],1),a("base-datetime-range",{attrs:{label:"Observation date","min-label":"Start","max-label":"End"},model:{value:e.searchFilter.dateRange,callback:function(t){e.$set(e.searchFilter,"dateRange",t)},expression:"searchFilter.dateRange"}}),a("base-number-range",{attrs:{label:"Observation wavelength",unit:"nm"},model:{value:e.searchFilter.wavelengthRange,callback:function(t){e.$set(e.searchFilter,"wavelengthRange",t)},expression:"searchFilter.wavelengthRange"}}),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Search")])],1)],1)},o=[],l=a("1da1"),c=(a("96cf"),a("d3b7"),a("820e"),a("3ca3"),a("ddb0"),a("4e82"),a("d81d"),a("b0c0"),{name:"DatasetForm",props:{value:{type:s["a"],required:!0}},data:function(){return{searchFilter:new s["a"](this.value),telescopeOptions:[],characteristicOptions:[],tagOptions:[],showOverlay:!0}},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.showOverlay=!0,e.next=3,Promise.allSettled([this.loadTelescopeOptions(),this.loadCharacteristicOptions(),this.loadTagOptions()]);case 3:this.showOverlay=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{updateSearchFilter:function(){this.$emit("input",new s["a"](this.searchFilter))},loadTelescopeOptions:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$SVO.telescope.getAll();case 3:t=e.sent,this.telescopeOptions=t.map((function(e){return{value:e.name,text:e.name}})).sort(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$displayErrorMessage(this.$SVO.parseError(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),loadCharacteristicOptions:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$SVO.characteristic.getAll();case 3:t=e.sent,this.characteristicOptions=t.map((function(e){return{value:e.name,text:e.name}})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$displayErrorMessage(this.$SVO.parseError(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),loadTagOptions:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$SVO.tag.getAll();case 3:t=e.sent,this.tagOptions=t.map((function(e){return{value:e.name,text:e.name}})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$displayErrorMessage(this.$SVO.parseError(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()}}),u=c,d=a("2877"),h=Object(d["a"])(u,i,o,!1,null,null,null),p=h.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-overlay",{attrs:{show:e.showOverlay,rounded:"sm"}},[a("b-table",{ref:"datasetTable",attrs:{items:e.datasetList,fields:e.datasetTableFields,"primary-key":"id","select-mode":"single",caption:e.datasetTableCaption,small:"",hover:"",selectable:""},on:{"row-selected":e.showDatasetDetailModal},scopedSlots:e._u([{key:"cell(checkbox)",fn:function(t){return[a("b-form-checkbox",{attrs:{value:t.item,size:"lg"},model:{value:e.selectedDatasets,callback:function(t){e.selectedDatasets=t},expression:"selectedDatasets"}})]}}])}),a("b-button-toolbar",{attrs:{"key-nav":""}},[a("b-button",{attrs:{disabled:e.selectedDatasetsEmpty,variant:"primary",title:"Select one or more dataset to create or update a data selection"},on:{click:e.saveSelection}},[e._v("Save selection ("+e._s(e.selectedDatasets.length)+")")])],1)],1),a("b-modal",{ref:"datasetDetailModal",attrs:{size:"xl",title:e.datasetDetailModalTitle,"hide-footer":"",static:"",lazy:""}},[e.datasetDetailModalDataset?a("dataset-detail",{attrs:{dataset:e.datasetDetailModalDataset,"search-filter":e.searchFilter}}):e._e()],1),a("data-selection-save",{ref:"dataSelectionSave"})],1)},v=[],m=(a("a15b"),a("4de4"),a("25f0"),a("eaef")),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-card",{staticClass:"mb-2"},[a("b-card-text",{domProps:{innerHTML:e._s(e.dataset.description)}}),a("b-button-toolbar",{attrs:{"key-nav":""}},[a("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover",value:e.telescopePopover,expression:"telescopePopover"}],attrs:{pill:"",size:"sm",variant:"outline-info"}},[e._v(e._s(e.telescope.name))]),a("b-button",{directives:[{name:"b-popover",rawName:"v-b-popover",value:e.instrumentPopover,expression:"instrumentPopover"}],attrs:{pill:"",size:"sm",variant:"outline-info"}},[e._v(e._s(e.instrument.name))]),a("b-button",{attrs:{pill:"",size:"sm",variant:"outline-info",href:e.dataset.archive_url,target:"_blank"}},[e._v("Archive webpage")])],1)],1),a(e.metadataComponent,{tag:"component",staticClass:"mt-3",attrs:{dataset:e.dataset,"initial-search-filter":e.searchFilter}})],1)},g=[],w=(a("a4d3"),a("e01a"),a("feb8")),y={name:"DatasetDetail",props:{dataset:{type:Object,required:!0},searchFilter:{type:Object,required:!0}},data:function(){return{telescope:this.dataset.telescope,instrument:this.dataset.instrument}},computed:{telescopePopover:function(){return{title:this.telescope.name,content:this.telescope.description,html:!0,placement:"bottom",trigger:"focus",customClass:"popover-lg"}},instrumentPopover:function(){return{title:this.instrument.name,content:this.instrument.description,html:!0,placement:"bottom",trigger:"focus",customClass:"popover-lg"}},metadataComponent:function(){var e=w["default"][this.dataset.name]||w["default"]["default"];return function(){return a("f4cd")("./"+e)}}}},S=y,O=Object(d["a"])(S,b,g,!1,null,null,null),x=O.exports,M={name:"DatasetList",components:{DatasetDetail:x,DataSelectionSave:m["a"]},props:{searchFilter:{type:s["a"],required:!0}},data:function(){return{datasetList:[],selectedDatasets:[],datasetDetailModalDataset:null,datasetDetailModalTitle:"",showOverlay:!0}},computed:{datasetTableFields:function(){return[{key:"checkbox",label:""},{key:"name",label:"Dataset"},{key:"metadata",label:"Estimated count",formatter:function(e){return e.estimated_count}},{key:"telescope",label:"Telescope",formatter:function(e){return e.name}},{key:"instrument",label:"Instrument",formatter:function(e){return e.name}},{key:"characteristics",label:"Characteristics",formatter:function(e){return e.map((function(e){return e.name})).join(", ")}}]},datasetTableCaption:function(){return this.datasetList.length>0?"Click on any row to see dataset content or refine search":"No dataset correspond to your search criteria"},selectedDatasetsEmpty:function(){return 0==this.selectedDatasets.length}},watch:{searchFilter:{handler:"updateDatasetList",immediate:!0}},methods:{updateDatasetList:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.showOverlay=!0,e.prev=1,e.next=4,this.$SVO.dataset.getAll(t.getSearchParams());case 4:a=e.sent,this.datasetList=a.filter((function(e){return e.metadata&&e.metadata.estimated_count>0})),this.selectedDatasets=[],e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),this.$displayErrorMessage(this.$SVO.parseError(e.t0));case 12:this.showOverlay=!1;case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}(),showDatasetDetailModal:function(e){e.length>0&&(this.datasetDetailModalDataset=e[0],this.datasetDetailModalTitle=this.datasetDetailModalDataset.name,this.$refs.datasetTable.clearSelected(),this.$nextTick((function(){this.$refs.datasetDetailModal.show()})))},saveSelection:function(){this.$refs.dataSelectionSave.save(this.selectedDatasets[0],this.searchFilter.getSearchParams().toString())}}},L=M,D=Object(d["a"])(L,f,v,!1,null,null,null),_=D.exports,k={name:"Dataset",components:{DatasetForm:p,DatasetList:_},props:{initialSearchFilter:{type:s["a"],required:!1,default:null}},data:function(){return{searchFilter:new s["a"](this.initialSearchFilter)}}},j=k,E=Object(d["a"])(j,r,n,!1,null,null,null);t["default"]=E.exports},"820e":function(e,t,a){"use strict";var r=a("23e7"),n=a("1c0b"),s=a("f069"),i=a("e667"),o=a("2266");r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,a=s.f(t),r=a.resolve,l=a.reject,c=i((function(){var a=n(t.resolve),s=[],i=0,l=1;o(e,(function(e){var n=i++,o=!1;s.push(void 0),l++,a.call(t,e).then((function(e){o||(o=!0,s[n]={status:"fulfilled",value:e},--l||r(s))}),(function(e){o||(o=!0,s[n]={status:"rejected",reason:e},--l||r(s))}))})),--l||r(s)}));return c.error&&l(c.value),a.promise}})},a15b:function(e,t,a){"use strict";var r=a("23e7"),n=a("44ad"),s=a("fc6a"),i=a("a640"),o=[].join,l=n!=Object,c=i("join",",");r({target:"Array",proto:!0,forced:l||!c},{join:function(e){return o.call(s(this),void 0===e?",":e)}})},addb:function(e,t){var a=Math.floor,r=function(e,t){var i=e.length,o=a(i/2);return i<8?n(e,t):s(r(e.slice(0,o),t),r(e.slice(o),t),t)},n=function(e,t){var a,r,n=e.length,s=1;while(s<n){r=s,a=e[s];while(r&&t(e[r-1],a)>0)e[r]=e[--r];r!==s++&&(e[r]=a)}return e},s=function(e,t,a){var r=e.length,n=t.length,s=0,i=0,o=[];while(s<r||i<n)s<r&&i<n?o.push(a(e[s],t[i])<=0?e[s++]:t[i++]):o.push(s<r?e[s++]:t[i++]);return o};e.exports=r},b85c:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0");var r=a("06c5");function n(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=Object(r["a"])(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==a["return"]||a["return"]()}finally{if(l)throw i}}}}},d998:function(e,t,a){var r=a("342f");e.exports=/MSIE|Trident/.test(r)},eaef:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-modal",{ref:"dataSelectionSaveModal",attrs:{size:"md",title:"Save data selection","ok-only":"","ok-variant":"success","hide-footer":!e.dataSelection},on:{hidden:e.resetModal}},[e.dataSelection?[e._v(" Your selection was saved successfully, and is available under the menu "),a("b-link",{attrs:{to:{name:"DataSelections"}}},[e._v('"Data selections"')])]:[a("b-overlay",{attrs:{show:e.showOverlay,rounded:"sm"}},[a("b-form",{on:{submit:function(t){return t.preventDefault(),e.saveDataSelection.apply(null,arguments)}}},[a("b-form-group",{attrs:{label:"Description","label-for":"data-selection-description",description:"Optional description of the data selection"}},[a("b-form-textarea",{attrs:{id:"data-selection-description",lazy:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Save")])],1)],1),a("p",{staticClass:"text-muted mt-3"},[e._v(" Note: data selections are dynamic, if metadata corresponding to your selection is added, updated or deleted, the selection will be affected ")])]],2)],1)},n=[],s=a("1da1"),i=(a("96cf"),a("a4d3"),a("e01a"),{name:"DataSelectionSave",data:function(){return{showOverlay:!1,description:null,dataSelection:null}},methods:{save:function(e,t){this.dataset=e,this.query_string=t,this.$refs.dataSelectionSaveModal.show()},saveDataSelection:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.showOverlay=!0,e.prev=1,e.next=4,this.$SVO.data_selection.create({description:this.description,dataset:this.dataset.resource_uri,query_string:this.query_string});case 4:this.dataSelection=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),this.$displayErrorMessage(this.$SVO.parseError(e.t0));case 10:this.showOverlay=!1;case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(){return e.apply(this,arguments)}return t}(),resetModal:function(){this.showOverlay=!1,this.description=null,this.dataSelection=null}}}),o=i,l=a("2877"),c=Object(l["a"])(o,r,n,!1,null,null,null);t["a"]=c.exports},f4cd:function(e,t,a){var r={"./":["feb8"],"./AiaLevel1":["0584","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","AiaLevel1"],"./AiaLevel1.vue":["0584","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","AiaLevel1"],"./EitLevel0":["fff9","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","EitLevel0"],"./EitLevel0.vue":["fff9","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","EitLevel0"],"./HmiMagnetogram":["a220","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","HmiMagnetogram"],"./HmiMagnetogram.vue":["a220","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","HmiMagnetogram"],"./Metadata":["cf02","Metadata"],"./Metadata.vue":["cf02","Metadata"],"./MetadataDetail":["da68","MetadataDetail"],"./MetadataDetail.vue":["da68","MetadataDetail"],"./MetadataList":["1344","MetadataList"],"./MetadataList.vue":["1344","MetadataList"],"./MetadataMixin":["1814","MetadataMixin"],"./MetadataMixin.js":["1814","MetadataMixin"],"./SwapLevel1":["a991","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","SwapLevel1"],"./SwapLevel1.vue":["a991","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","SwapLevel1"],"./Xrt":["f513","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","Xrt"],"./Xrt.vue":["f513","AiaLevel1~EitLevel0~HmiMagnetogram~SwapLevel1~Xrt","Xrt"],"./index":["feb8"],"./index.js":["feb8"]};function n(e){if(!a.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a(n)}))}n.keys=function(){return Object.keys(r)},n.id="f4cd",e.exports=n},feb8:function(e,t,a){"use strict";a.r(t),t["default"]={default:"Metadata","AIA level 1":"AiaLevel1","EIT level 0":"EitLevel0","HMI magnetogram":"HmiMagnetogram","SWAP level 1":"SwapLevel1",XRT:"Xrt"}}}]);
//# sourceMappingURL=Dataset.070df933.js.map