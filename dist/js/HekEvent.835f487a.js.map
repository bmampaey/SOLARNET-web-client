{"version":3,"file":"js/HekEvent.835f487a.js","mappings":"sKAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACF,EAAG,SAAS,CAACG,YAAY,OAAOD,MAAM,CAAC,UAAU,KAAK,CAACF,EAAG,gBAAgB,CAACI,WAAW,CAAC,CAACC,KAAK,WAAWC,QAAQ,aAAaC,MAAOX,EAAiB,cAAEY,WAAW,kBAAkBN,MAAM,CAAC,aAAa,SAAS,MAAQ,yCAAyC,CAACN,EAAIa,GAAG,mBAAmBT,EAAG,WAAW,CAACG,YAAY,WAAWD,MAAM,CAAC,KAAO,KAAK,gBAAgBN,EAAIc,gBAAgB,CAACd,EAAIa,GAAG,UAAUT,EAAG,WAAW,CAACG,YAAY,WAAWD,MAAM,CAAC,KAAO,KAAK,gBAAgBN,EAAIc,gBAAgB,CAACd,EAAIa,GAAG,WAAW,GAAGT,EAAG,aAAa,CAACE,MAAM,CAAC,GAAKN,EAAIc,cAAc,QAAU,KAAK,CAACV,EAAG,cAAc,CAACA,EAAG,iBAAiB,CAACW,MAAM,CAACJ,MAAOX,EAAgB,aAAEgB,SAAS,SAAUC,GAAMjB,EAAIkB,aAAaD,GAAKL,WAAW,mBAAmB,IAAI,IAAI,IAAI,GAAGR,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACF,EAAG,iBAAiB,CAACE,MAAM,CAAC,gBAAgBN,EAAIkB,iBAAiB,IAAI,IACp+BC,EAAkB,GCDlB,EAAS,WAAa,IAAInB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACgB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBtB,EAAIuB,mBAAmBC,MAAM,KAAMC,cAAc,CAACrB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,cAAc,YAAY,eAAe,CAACF,EAAG,gBAAgB,CAACE,MAAM,CAAC,GAAK,aAAa,QAAUN,EAAIkB,aAAaQ,iBAAiB,SAAW,IAAIX,MAAM,CAACJ,MAAOX,EAAIkB,aAAsB,UAAEF,SAAS,SAAUC,GAAMjB,EAAI2B,KAAK3B,EAAIkB,aAAc,YAAaD,IAAML,WAAW,6BAA6B,GAAGR,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQ,aAAa,YAAY,QAAQ,YAAY,OAAOS,MAAM,CAACJ,MAAOX,EAAIkB,aAAsB,UAAEF,SAAS,SAAUC,GAAMjB,EAAI2B,KAAK3B,EAAIkB,aAAc,YAAaD,IAAML,WAAW,4BAA4BR,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,SAAS,QAAU,YAAY,CAACN,EAAIa,GAAG,aAAa,IACz2B,EAAkB,G,sHCGDe,EAAAA,WAKpB,WAAYV,IAAc,wCAJd,KAIc,wBAHd,CAAEW,IAAK,KAAMC,IAAK,QAGJ,+BAFPC,OAAOC,QAAQC,EAAAA,IAAsBC,KAAI,+BAAEC,EAAF,KAAOxB,EAAP,WAAmB,CAAEA,MAAOwB,EAAKC,KAAMzB,OAG9FO,IACCmB,MAAMC,QAAQpB,EAAaqB,aAC9BtC,KAAKsC,WAAL,OAAqBrB,EAAaqB,YAE/BrB,EAAasB,YAChBvC,KAAKuC,UAAY,CAChBX,IAAKX,EAAasB,UAAUX,IAC5BC,IAAKZ,EAAasB,UAAUV,O,8CAMhC,WACC,IAAIW,EAAe,IAAIC,gBAAgBC,EAAAA,IAcvC,OAZI1C,KAAKsC,WAAatC,KAAKsC,UAAUK,OAAS,GAC7CH,EAAaI,IAAI,aAAc5C,KAAKsC,UAAUO,KAAK,MAGhD7C,KAAKuC,UAAUX,KAClBY,EAAaI,IAAI,kBAAmB5C,KAAKuC,UAAUX,IAAIkB,eAGpD9C,KAAKuC,UAAUV,KAClBW,EAAaI,IAAI,gBAAiB5C,KAAKuC,UAAUV,IAAIiB,eAG/CN,M,EAlCYb,GCSrB,GACA,oBACA,OACA,4BAEA,KALA,WAMA,OACA,iCAGA,SACA,mBADA,WAGA,gDC1BiR,I,UCO7QoB,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAeA,EAAiB,QClB5B,EAAS,WAAa,IAAIhD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,KAAON,EAAIiD,UAAUC,QAAQ,QAAU,OAAO,CAAC9C,EAAG,mBAAmB,CAACG,YAAY,OAAOD,MAAM,CAAC,UAAU,GAAG,aAAa,6CAA6C,CAACF,EAAG,WAAW,CAACI,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOX,EAAwB,qBAAEY,WAAW,yBAAyBN,MAAM,CAAC,KAAO,KAAK,QAAU,oBAAoB,MAAQ,kCAAkC,CAACN,EAAIa,GAAG,cAAcT,EAAG,OAAO,CAACG,YAAY,0BAA0BH,EAAG,aAAa,CAACG,YAAY,OAAOD,MAAM,CAAC,cAAcN,EAAIiD,UAAUE,WAAW,aAAanD,EAAIiD,UAAUG,UAAU,YAAY,EAAE,iBAAiB,EAAE,gBAAgBpD,EAAIqD,SAASjC,GAAG,CAAC,OAASpB,EAAIsD,qBAAqB,GAAGlD,EAAG,UAAU,CAACmD,IAAI,aAAajD,MAAM,CAAC,GAAKN,EAAIqD,QAAQ,MAAQrD,EAAIiD,UAAUO,MAAM,OAASxD,EAAIyD,iBAAiB,QAAUzD,EAAI0D,kBAAkB,cAAc,KAAK,cAAc,SAAS,WAAa,GAAG,MAAQ,GAAG,MAAQ,GAAG,WAAa,IAAItC,GAAG,CAAC,eAAepB,EAAI2D,sBAAsBC,YAAY5D,EAAI6D,GAAG,CAAC,CAAC1B,IAAI,iBAAiB2B,GAAG,SAASC,GAAM,MAAO,CAAC3D,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQyD,EAAKC,KAAK,KAAO,MAAMjD,MAAM,CAACJ,MAAOX,EAAa,UAAEgB,SAAS,SAAUC,GAAMjB,EAAIiE,UAAUhD,GAAKL,WAAW,sBAAsBR,EAAG,mBAAmB,CAACE,MAAM,CAAC,UAAU,GAAG,aAAa,2CAA2C,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,SAAWN,EAAIkE,eAAe,QAAU,UAAU,MAAQ,2DAA2D9C,GAAG,CAAC,MAAQpB,EAAImE,8BAA8B,CAACnE,EAAIa,GAAG,uBAAuBb,EAAIoE,GAAGpE,EAAIiE,UAAUrB,QAAQ,QAAQ,IAAI,GAAGxC,EAAG,UAAU,CAACmD,IAAI,mBAAmBjD,MAAM,CAAC,KAAO,KAAK,MAAQN,EAAIqE,sBAAsB,cAAc,GAAG,OAAS,GAAG,KAAO,KAAK,CAAErE,EAAyB,sBAAEI,EAAG,mBAAmB,CAACE,MAAM,CAAC,MAAQN,EAAIsE,yBAAyBtE,EAAIuE,MAAM,GAAGnE,EAAG,UAAU,CAACmD,IAAI,2BAA2BjD,MAAM,CAAC,KAAO,OAAO,MAAQN,EAAIwE,8BAA8B,cAAc,GAAG,OAAS,GAAG,KAAO,KAAK,CAACpE,EAAG,UAAU,CAACE,MAAM,CAAC,wBAAwBN,EAAIyE,yCAAyC,GAAGrE,EAAG,uBAAuB,CAACE,MAAM,CAAC,mBAAmBN,EAAI0E,cAAc,WAAW1E,EAAI2E,qBAAqB,gBAAgB3E,EAAIqD,SAASjC,GAAG,CAAC,OAASpB,EAAI4E,wBAAwB,IAC9yE,EAAkB,G,gECDlB,EAAS,WAAa,IAAI5E,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,OAAS,GAAG,MAAQ,GAAG,IAAMN,EAAI6E,MAAMC,aAAa,IAAM,qBAAqB1E,EAAG,KAAK,CAACG,YAAY,iBAAiB,CAACH,EAAG,KAAK,CAACJ,EAAIa,GAAG,gBAAgBT,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIoE,GAAGpE,EAAI+E,OAAOC,WAAWhF,EAAI6E,MAAMI,eAAe7E,EAAG,KAAK,CAACJ,EAAIa,GAAG,cAAcT,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIoE,GAAGpE,EAAI+E,OAAOC,WAAWhF,EAAI6E,MAAMK,aAAa9E,EAAG,KAAK,CAACJ,EAAIa,GAAG,wBAAwBT,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIoE,GAAGpE,EAAI6E,MAAMM,aAAa/E,EAAG,KAAK,CAACJ,EAAIa,GAAG,qBAAqBT,EAAG,KAAK,CAACJ,EAAIa,GAAGb,EAAIoE,GAAGpE,EAAI6E,MAAMO,qBAAqBhF,EAAG,IAAI,CAACE,MAAM,CAAC,KAAON,EAAI6E,MAAMQ,UAAU,OAAS,WAAW,CAACrF,EAAIa,GAAG,uBAAuB,IACrsB,EAAkB,GCiBtB,GACA,sBACA,OACA,kCCrBmR,ICO/Q,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAe,EAAiB,QC6ChC,GACA,oBACA,YACA,iBACA,qBACA,eACA,wBAEA,OACA,mCAEA,KAXA,WAYA,+BACA,WACA,oBACA,sCACA,sCACA,oBACA,iBACA,uCACA,sCACA,kCACA,oCAGA,OACA,kCACA,YACA,aACA,2BACA,yBACA,6CACA,yCACA,gBACA,iDAGA,UACA,iBADA,WAEA,OACA,0BACA,0BACA,sEACA,kEACA,kCAGA,kBAVA,WAWA,gIAEA,eAbA,WAcA,kCAGA,OACA,cACA,0BACA,eAGA,SACA,gBADA,SACA,GACA,gDACA,IACA,2BACA,kBACA,SACA,+BAGA,iBAVA,SAUA,GACA,4BAEA,oBAbA,SAaA,GACA,2EACA,mCACA,mCACA,4BAEA,sBAEA,qBArBA,SAqBA,GAEA,aACA,gCACA,2DAEA,sCAEA,2BACA,wCAIA,4BAlCA,WAmCA,gEACA,+GACA,mDACA,WACA,kGACA,iGAEA,iLAGA,8CCxKiR,ICO7Q,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAe,EAAiB,QCShC,GACA,gBACA,YACA,eACA,gBAEA,OACA,uDAEA,KATA,WAUA,OACA,6CACA,2CCvC6Q,ICOzQ,GAAY,OACd,EACAd,EACAoB,GACA,EACA,KACA,KACA,MAIF,EAAe,EAAiB,S,kCCjBhC,IAAImE,EAAI,EAAQ,MACZC,EAAU,eACVC,EAA+B,EAAQ,MAEvCC,EAAsBD,EAA6B,UAKvDF,EAAE,CAAEI,OAAQ,QAASC,OAAO,EAAMC,QAASH,GAAuB,CAChEI,OAAQ,SAAgBC,GACtB,OAAOP,EAAQtF,KAAM6F,EAAYrE,UAAUmB,OAAS,EAAInB,UAAU,QAAKsE,O,qBCZ3E,IAAIT,EAAI,EAAQ,MACZU,EAAO,EAAQ,MACfC,EAA8B,EAAQ,MAEtCC,GAAuBD,GAA4B,SAAUE,GAE/D9D,MAAM2D,KAAKG,MAKbb,EAAE,CAAEI,OAAQ,QAASU,MAAM,EAAMR,OAAQM,GAAuB,CAC9DF,KAAMA,K,wCCZR,cACCK,QAAS,UACT,cAAe,YACfC,MAAO,QACPC,QAAS,UACT,cAAe,YACf,eAAgB,cAChB,cAAe,YACf,cAAe,YACf,eAAgB,aAChB,WAAY,UACZ,kBAAmB,iBACnB,eAAgB,aAChB,eAAgB,aAChB,eAAgB,aAChBC,IAAK","sources":["webpack://svo/./src/components/hek_event/HekEvent.vue?5582","webpack://svo/./src/components/hek_event/HekEventForm.vue?2e58","webpack://svo/./src/services/hek/EventSearchFilter.js","webpack://svo/src/components/hek_event/HekEventForm.vue","webpack://svo/./src/components/hek_event/HekEventForm.vue?7f34","webpack://svo/./src/components/hek_event/HekEventForm.vue","webpack://svo/./src/components/hek_event/HekEventList.vue?394b","webpack://svo/./src/components/hek_event/HekEventDetail.vue?542a","webpack://svo/src/components/hek_event/HekEventDetail.vue","webpack://svo/./src/components/hek_event/HekEventDetail.vue?18fe","webpack://svo/./src/components/hek_event/HekEventDetail.vue","webpack://svo/src/components/hek_event/HekEventList.vue","webpack://svo/./src/components/hek_event/HekEventList.vue?e1ed","webpack://svo/./src/components/hek_event/HekEventList.vue","webpack://svo/src/components/hek_event/HekEvent.vue","webpack://svo/./src/components/hek_event/HekEvent.vue?95f9","webpack://svo/./src/components/hek_event/HekEvent.vue","webpack://svo/./node_modules/core-js/modules/es.array.filter.js","webpack://svo/./node_modules/core-js/modules/es.array.from.js","webpack://svo/./src/components/metadata/index.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\",\"lg\":\"4\"}},[_c('b-card',{staticClass:\"mb-3\",attrs:{\"no-body\":\"\"}},[_c('b-card-header',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:(_vm.eventFilterId),expression:\"eventFilterId\"}],attrs:{\"header-tag\":\"header\",\"title\":\"Click to show/hide the event filters\"}},[_vm._v(\" Filter events \"),_c('b-button',{staticClass:\"hide-btn\",attrs:{\"size\":\"sm\",\"aria-controls\":_vm.eventFilterId}},[_vm._v(\"Hide\")]),_c('b-button',{staticClass:\"show-btn\",attrs:{\"size\":\"sm\",\"aria-controls\":_vm.eventFilterId}},[_vm._v(\"Show\")])],1),_c('b-collapse',{attrs:{\"id\":_vm.eventFilterId,\"visible\":\"\"}},[_c('b-card-body',[_c('hek-event-form',{model:{value:(_vm.searchFilter),callback:function ($$v) {_vm.searchFilter=$$v},expression:\"searchFilter\"}})],1)],1)],1)],1),_c('b-col',{attrs:{\"cols\":\"12\",\"lg\":\"8\"}},[_c('hek-event-list',{attrs:{\"search-filter\":_vm.searchFilter}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.updateSearchFilter.apply(null, arguments)}}},[_c('b-form-group',{attrs:{\"label\":\"Event types\",\"label-for\":\"event-type\"}},[_c('b-form-select',{attrs:{\"id\":\"event-type\",\"options\":_vm.searchFilter.eventTypeOptions,\"multiple\":\"\"},model:{value:(_vm.searchFilter.eventType),callback:function ($$v) {_vm.$set(_vm.searchFilter, \"eventType\", $$v)},expression:\"searchFilter.eventType\"}})],1),_c('datetime-range',{attrs:{\"label\":\"Event time\",\"min-label\":\"Start\",\"max-label\":\"End\"},model:{value:(_vm.searchFilter.dateRange),callback:function ($$v) {_vm.$set(_vm.searchFilter, \"dateRange\", $$v)},expression:\"searchFilter.dateRange\"}}),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Search\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* The EventSearchFilter holds the data for the HEKEventForm and generate corresponding URLSerachParams for the HEK API */\n\nimport { HEK_EVENT_TYPE_NAMES, HEK_EVENT_LIST_SEARCH_PARAMS } from '@/constants';\n\nexport default class EventSearchFilter {\n\teventType = [];\n\tdateRange = { min: null, max: null };\n\teventTypeOptions = Object.entries(HEK_EVENT_TYPE_NAMES).map(([key, value]) => ({ value: key, text: value }));\n\n\tconstructor(searchFilter) {\n\t\tif (searchFilter) {\n\t\t\tif (Array.isArray(searchFilter.eventType)) {\n\t\t\t\tthis.eventType = [...searchFilter.eventType];\n\t\t\t}\n\t\t\tif (searchFilter.dateRange) {\n\t\t\t\tthis.dateRange = {\n\t\t\t\t\tmin: searchFilter.dateRange.min,\n\t\t\t\t\tmax: searchFilter.dateRange.max\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n\tgetSearchParams() {\n\t\tlet searchParams = new URLSearchParams(HEK_EVENT_LIST_SEARCH_PARAMS);\n\n\t\tif (this.eventType && this.eventType.length > 0) {\n\t\t\tsearchParams.set('event_type', this.eventType.join(','));\n\t\t}\n\n\t\tif (this.dateRange.min) {\n\t\t\tsearchParams.set('event_starttime', this.dateRange.min.toISOString());\n\t\t}\n\n\t\tif (this.dateRange.max) {\n\t\t\tsearchParams.set('event_endtime', this.dateRange.max.toISOString());\n\t\t}\n\n\t\treturn searchParams;\n\t}\n}\n","<template>\n\t<b-form @submit.prevent=\"updateSearchFilter\">\n\t\t<b-form-group label=\"Event types\" label-for=\"event-type\">\n\t\t\t<b-form-select id=\"event-type\" v-model=\"searchFilter.eventType\" :options=\"searchFilter.eventTypeOptions\" multiple></b-form-select>\n\t\t</b-form-group>\n\t\t<datetime-range v-model=\"searchFilter.dateRange\" label=\"Event time\" min-label=\"Start\" max-label=\"End\"></datetime-range>\n\t\t<b-button type=\"submit\" variant=\"primary\">Search</b-button>\n\t</b-form>\n</template>\n\n<script>\nimport HekEventSearchFilter from '@/services/hek/EventSearchFilter';\n\nexport default {\n\tname: 'HekEventForm',\n\tprops: {\n\t\tvalue: { type: HekEventSearchFilter, required: true }\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsearchFilter: new HekEventSearchFilter(this.value)\n\t\t};\n\t},\n\tmethods: {\n\t\tupdateSearchFilter() {\n\t\t\t// Send a copy of the searchFilter so that local modifications are not visible outside until the form is submitted\n\t\t\tthis.$emit('input', new HekEventSearchFilter(this.searchFilter));\n\t\t}\n\t}\n};\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HekEventForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HekEventForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HekEventForm.vue?vue&type=template&id=7d7dca66&\"\nimport script from \"./HekEventForm.vue?vue&type=script&lang=js&\"\nexport * from \"./HekEventForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-overlay',{attrs:{\"show\":_vm.paginator.loading,\"rounded\":\"sm\"}},[_c('b-button-toolbar',{staticClass:\"mb-3\",attrs:{\"key-nav\":\"\",\"aria-label\":\"Control table displayed rows and columns\"}},[_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:(_vm.tableSettingsModalId),expression:\"tableSettingsModalId\"}],attrs:{\"size\":\"sm\",\"variant\":\"outline-secondary\",\"title\":\"Change table display settings\"}},[_vm._v(\"Settings\")]),_c('span',{staticClass:\"button-toolbar-spacer\"}),_c('pagination',{staticClass:\"mb-0\",attrs:{\"page-number\":_vm.paginator.pageNumber,\"page-count\":_vm.paginator.pageCount,\"page-jump\":1,\"page-displayed\":3,\"aria-controls\":_vm.tableId},on:{\"change\":_vm.updatePageNumber}})],1),_c('b-table',{ref:\"eventTable\",attrs:{\"id\":_vm.tableId,\"items\":_vm.paginator.items,\"fields\":_vm.eventTableFields,\"caption\":_vm.eventTableCaption,\"primary-key\":\"id\",\"select-mode\":\"single\",\"responsive\":\"\",\"small\":\"\",\"hover\":\"\",\"selectable\":\"\"},on:{\"row-selected\":_vm.showEventDetailModal},scopedSlots:_vm._u([{key:\"cell(checkbox)\",fn:function(data){return [_c('b-form-checkbox',{attrs:{\"value\":data.item,\"size\":\"lg\"},model:{value:(_vm.selection),callback:function ($$v) {_vm.selection=$$v},expression:\"selection\"}})]}}])}),_c('b-button-toolbar',{attrs:{\"key-nav\":\"\",\"aria-label\":\"Actions on displayed and selected rows\"}},[_c('b-button',{attrs:{\"disabled\":_vm.selectionEmpty,\"variant\":\"primary\",\"title\":\"Select one or more event to search for overlapping data\"},on:{\"click\":_vm.showOverlappingDatasetModal}},[_vm._v(\"Search overlapping (\"+_vm._s(_vm.selection.length)+\")\")])],1)],1),_c('b-modal',{ref:\"eventDetailModal\",attrs:{\"size\":\"md\",\"title\":_vm.eventDetailModalTitle,\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[(_vm.eventDetailModalEvent)?_c('hek-event-detail',{attrs:{\"event\":_vm.eventDetailModalEvent}}):_vm._e()],1),_c('b-modal',{ref:\"overlappingDatasetsModal\",attrs:{\"size\":\"full\",\"title\":_vm.overlappingDatasetsModalTitle,\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('dataset',{attrs:{\"initial-search-filter\":_vm.overlappingDatasetsModalSearchFilter}})],1),_c('table-settings-modal',{attrs:{\"default-settings\":_vm.tableSettings,\"modal-id\":_vm.tableSettingsModalId,\"aria-controls\":_vm.tableId},on:{\"change\":_vm.updateTableSettings}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-img',{attrs:{\"center\":\"\",\"fluid\":\"\",\"src\":_vm.event.thumbnailUrl,\"alt\":\"Event thumbnail\"}}),_c('dl',{staticClass:\"dl-horizontal\"},[_c('dt',[_vm._v(\"Start time\")]),_c('dd',[_vm._v(_vm._s(_vm.$utils.formatDate(_vm.event.startTime)))]),_c('dt',[_vm._v(\"End time\")]),_c('dd',[_vm._v(_vm._s(_vm.$utils.formatDate(_vm.event.endTime)))]),_c('dt',[_vm._v(\"Recognition method\")]),_c('dd',[_vm._v(_vm._s(_vm.event.frm_name))]),_c('dt',[_vm._v(\"Identifier name\")]),_c('dd',[_vm._v(_vm._s(_vm.event.frm_identifier))])]),_c('a',{attrs:{\"href\":_vm.event.detailUrl,\"target\":\"_blank\"}},[_vm._v(\"See more details\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div>\n\t\t<b-img center fluid :src=\"event.thumbnailUrl\" alt=\"Event thumbnail\"></b-img>\n\t\t<dl class=\"dl-horizontal\">\n\t\t\t<dt>Start time</dt>\n\t\t\t<dd>{{ $utils.formatDate(event.startTime) }}</dd>\n\t\t\t<dt>End time</dt>\n\t\t\t<dd>{{ $utils.formatDate(event.endTime) }}</dd>\n\t\t\t<dt>Recognition method</dt>\n\t\t\t<dd>{{ event.frm_name }}</dd>\n\t\t\t<dt>Identifier name</dt>\n\t\t\t<dd>{{ event.frm_identifier }}</dd>\n\t\t</dl>\n\t\t<a :href=\"event.detailUrl\" target=\"_blank\">See more details</a>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'HekEventDetail',\n\tprops: {\n\t\tevent: { type: Object, required: true }\n\t}\n};\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HekEventDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HekEventDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HekEventDetail.vue?vue&type=template&id=e517848c&\"\nimport script from \"./HekEventDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./HekEventDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div>\n\t\t<b-overlay :show=\"paginator.loading\" rounded=\"sm\">\n\t\t\t<b-button-toolbar key-nav aria-label=\"Control table displayed rows and columns\" class=\"mb-3\">\n\t\t\t\t<b-button v-b-modal=\"tableSettingsModalId\" size=\"sm\" variant=\"outline-secondary\" title=\"Change table display settings\">Settings</b-button>\n\t\t\t\t<span class=\"button-toolbar-spacer\"></span>\n\t\t\t\t<pagination\n\t\t\t\t\t:page-number=\"paginator.pageNumber\"\n\t\t\t\t\t:page-count=\"paginator.pageCount\"\n\t\t\t\t\t:page-jump=\"1\"\n\t\t\t\t\t:page-displayed=\"3\"\n\t\t\t\t\t:aria-controls=\"tableId\"\n\t\t\t\t\tclass=\"mb-0\"\n\t\t\t\t\t@change=\"updatePageNumber\"\n\t\t\t\t></pagination>\n\t\t\t</b-button-toolbar>\n\t\t\t<b-table\n\t\t\t\t:id=\"tableId\"\n\t\t\t\tref=\"eventTable\"\n\t\t\t\t:items=\"paginator.items\"\n\t\t\t\t:fields=\"eventTableFields\"\n\t\t\t\t:caption=\"eventTableCaption\"\n\t\t\t\tprimary-key=\"id\"\n\t\t\t\tselect-mode=\"single\"\n\t\t\t\tresponsive\n\t\t\t\tsmall\n\t\t\t\thover\n\t\t\t\tselectable\n\t\t\t\t@row-selected=\"showEventDetailModal\"\n\t\t\t>\n\t\t\t\t<template #cell(checkbox)=\"data\">\n\t\t\t\t\t<b-form-checkbox v-model=\"selection\" :value=\"data.item\" size=\"lg\"></b-form-checkbox>\n\t\t\t\t</template>\n\t\t\t</b-table>\n\n\t\t\t<b-button-toolbar key-nav aria-label=\"Actions on displayed and selected rows\">\n\t\t\t\t<b-button :disabled=\"selectionEmpty\" variant=\"primary\" title=\"Select one or more event to search for overlapping data\" @click=\"showOverlappingDatasetModal\"\n\t\t\t\t\t>Search overlapping ({{ selection.length }})</b-button\n\t\t\t\t>\n\t\t\t</b-button-toolbar>\n\t\t</b-overlay>\n\n\t\t<b-modal ref=\"eventDetailModal\" size=\"md\" :title=\"eventDetailModalTitle\" hide-footer static lazy>\n\t\t\t<hek-event-detail v-if=\"eventDetailModalEvent\" :event=\"eventDetailModalEvent\"></hek-event-detail>\n\t\t</b-modal>\n\n\t\t<b-modal ref=\"overlappingDatasetsModal\" size=\"full\" :title=\"overlappingDatasetsModalTitle\" hide-footer static lazy>\n\t\t\t<dataset :initial-search-filter=\"overlappingDatasetsModalSearchFilter\"></dataset>\n\t\t</b-modal>\n\n\t\t<table-settings-modal :default-settings=\"tableSettings\" :modal-id=\"tableSettingsModalId\" :aria-controls=\"tableId\" @change=\"updateTableSettings\"></table-settings-modal>\n\t</div>\n</template>\n\n<script>\nimport HekEventSearchFilter from '@/services/hek/EventSearchFilter';\nimport DatasetSearchFilter from '@/services/svo/DatasetSearchFilter';\nimport Dataset from '@/components/dataset/Dataset';\nimport Pagination from '@/components/globals/Pagination';\nimport TableSettingsModal, { TableSettings } from '@/components/globals/TableSettings';\nimport HekEventDetail from './HekEventDetail';\nimport { HEK_PAGINATION_OPTIONS } from '@/constants';\n\nexport default {\n\tname: 'HekEventList',\n\tcomponents: {\n\t\tHekEventDetail,\n\t\tDataset,\n\t\tPagination,\n\t\tTableSettingsModal\n\t},\n\tprops: {\n\t\tsearchFilter: { type: HekEventSearchFilter, required: true }\n\t},\n\tdata() {\n\t\tlet paginator = this.$HEK.getPaginator();\n\t\tlet tableSettings = new TableSettings({\n\t\t\tpageSize: paginator.pageSize,\n\t\t\tpageSizeMinimum: HEK_PAGINATION_OPTIONS.MINIMUM_PAGESIZE,\n\t\t\tpageSizeMaximum: HEK_PAGINATION_OPTIONS.MAXIMUM_PAGESIZE,\n\t\t\tordering: paginator.ordering,\n\t\t\torderingOptions: [\n\t\t\t\t{ value: 'event_type', text: 'Event type' },\n\t\t\t\t{ value: 'startTime', text: 'Start time' },\n\t\t\t\t{ value: 'endTime', text: 'End time' },\n\t\t\t\t{ value: 'frm_name', text: 'Method' }\n\t\t\t]\n\t\t});\n\t\treturn {\n\t\t\ttableId: this.$utils.getUniqueId(),\n\t\t\tpaginator: paginator,\n\t\t\tselection: [],\n\t\t\teventDetailModalEvent: null,\n\t\t\teventDetailModalTitle: '',\n\t\t\toverlappingDatasetsModalSearchFilter: new DatasetSearchFilter(),\n\t\t\toverlappingDatasetsModalTitle: 'Datasets',\n\t\t\ttableSettings: tableSettings,\n\t\t\ttableSettingsModalId: this.$utils.getUniqueId()\n\t\t};\n\t},\n\tcomputed: {\n\t\teventTableFields() {\n\t\t\treturn [\n\t\t\t\t{ key: 'checkbox', label: '' },\n\t\t\t\t{ key: 'type', label: 'Type' },\n\t\t\t\t{ key: 'startTime', label: 'Start time', formatter: this.$utils.formatDate },\n\t\t\t\t{ key: 'endTime', label: 'End time', formatter: this.$utils.formatDate },\n\t\t\t\t{ key: 'frm_name', label: 'Method' }\n\t\t\t];\n\t\t},\n\t\teventTableCaption() {\n\t\t\treturn this.paginator.items.length > 0 ? 'Click on any row to see the event details' : 'No event correspond to your search criteria';\n\t\t},\n\t\tselectionEmpty() {\n\t\t\treturn this.selection.length == 0;\n\t\t}\n\t},\n\twatch: {\n\t\tsearchFilter: {\n\t\t\thandler: 'updatePaginator',\n\t\t\timmediate: true\n\t\t}\n\t},\n\tmethods: {\n\t\tupdatePaginator(searchFilter) {\n\t\t\tthis.paginator.searchParams = searchFilter.getSearchParams();\n\t\t\ttry {\n\t\t\t\tthis.paginator.loadPage(1);\n\t\t\t\tthis.selection = [];\n\t\t\t} catch (error) {\n\t\t\t\tthis.$displayErrorMessage(error);\n\t\t\t}\n\t\t},\n\t\tupdatePageNumber(pageNumber) {\n\t\t\tthis.paginator.loadPage(pageNumber);\n\t\t},\n\t\tupdateTableSettings(settings) {\n\t\t\tif (this.paginator.pageSize != settings.pageSize || this.paginator.ordering != settings.ordering) {\n\t\t\t\tthis.paginator.pageSize = settings.pageSize;\n\t\t\t\tthis.paginator.ordering = settings.ordering;\n\t\t\t\tthis.paginator.loadPage(1);\n\t\t\t}\n\t\t\tthis.tableSettings = settings;\n\t\t},\n\t\tshowEventDetailModal(selectedRows) {\n\t\t\t// selectedRows is always a list, but it will be empty when clearing selected rows\n\t\t\tif (selectedRows.length > 0) {\n\t\t\t\tthis.eventDetailModalEvent = selectedRows[0];\n\t\t\t\tthis.eventDetailModalTitle = this.eventDetailModalEvent.type;\n\t\t\t\t// Clear the selection so that the row can be selected again\n\t\t\t\tthis.$refs.eventTable.clearSelected();\n\t\t\t\t// Make sure the component is rendered before showing the modal\n\t\t\t\tthis.$nextTick(function() {\n\t\t\t\t\tthis.$refs.eventDetailModal.show();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tshowOverlappingDatasetModal() {\n\t\t\tlet selectedEventTypes = new Set(this.selection.map(event => event.type));\n\t\t\tthis.overlappingDatasetsModalTitle = `Datasets overlapping selected ${Array.from(selectedEventTypes).join(', ')} events`;\n\t\t\tthis.overlappingDatasetsModalSearchFilter = new DatasetSearchFilter({\n\t\t\t\tdateRange: {\n\t\t\t\t\tmin: new Date(Math.min(...this.selection.map(e => e.startTime))),\n\t\t\t\t\tmax: new Date(Math.max(...this.selection.map(e => e.endTime)))\n\t\t\t\t},\n\t\t\t\tsearch: this.selection.map(e => `(date_beg__lte = ${e.endTime.toISOString()} and date_end__gte = ${e.startTime.toISOString()})`).join(' or ')\n\t\t\t});\n\n\t\t\tthis.$refs.overlappingDatasetsModal.show();\n\t\t}\n\t}\n};\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HekEventList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HekEventList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HekEventList.vue?vue&type=template&id=46132210&\"\nimport script from \"./HekEventList.vue?vue&type=script&lang=js&\"\nexport * from \"./HekEventList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<b-row>\n\t\t<b-col cols=\"12\" lg=\"4\">\n\t\t\t<b-card no-body class=\"mb-3\">\n\t\t\t\t<b-card-header v-b-toggle=\"eventFilterId\" header-tag=\"header\" title=\"Click to show/hide the event filters\">\n\t\t\t\t\tFilter events\n\t\t\t\t\t<b-button size=\"sm\" class=\"hide-btn\" :aria-controls=\"eventFilterId\">Hide</b-button>\n\t\t\t\t\t<b-button size=\"sm\" class=\"show-btn\" :aria-controls=\"eventFilterId\">Show</b-button>\n\t\t\t\t</b-card-header>\n\t\t\t\t<b-collapse :id=\"eventFilterId\" visible>\n\t\t\t\t\t<b-card-body>\n\t\t\t\t\t\t<hek-event-form v-model=\"searchFilter\"></hek-event-form>\n\t\t\t\t\t</b-card-body>\n\t\t\t\t</b-collapse>\n\t\t\t</b-card>\n\t\t</b-col>\n\t\t<b-col cols=\"12\" lg=\"8\">\n\t\t\t<hek-event-list :search-filter=\"searchFilter\"></hek-event-list>\n\t\t</b-col>\n\t</b-row>\n</template>\n\n<script>\nimport HekEventForm from './HekEventForm';\nimport HekEventList from './HekEventList';\nimport HekEventSearchFilter from '@/services/hek/EventSearchFilter';\n\nexport default {\n\tname: 'HekEvent',\n\tcomponents: {\n\t\tHekEventForm,\n\t\tHekEventList\n\t},\n\tprops: {\n\t\tinitialSearchFilter: { type: HekEventSearchFilter, required: false, default: null }\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsearchFilter: new HekEventSearchFilter(this.initialSearchFilter),\n\t\t\teventFilterId: this.$utils.getUniqueId()\n\t\t};\n\t}\n};\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HekEvent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HekEvent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HekEvent.vue?vue&type=template&id=2800e3aa&\"\nimport script from \"./HekEvent.vue?vue&type=script&lang=js&\"\nexport * from \"./HekEvent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es-x/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","export default {\n\tdefault: 'Default',\n\t'AIA level 1': 'AiaLevel1',\n\tCRISP: 'Crisp',\n\tCHROMIS: 'Chromis',\n\t'EIT level 0': 'EitLevel0',\n\t'EIT synoptic': 'EitSynoptic',\n\t'EUI level 1': 'EuiLevel2',\n\t'EUI level 2': 'EuiLevel2',\n\t'EUVI level 0': 'EuviLevel0',\n\t'GAIA DEM': 'GaiaDem',\n\t'HMI magnetogram': 'HmiMagnetogram',\n\t'SWAP level 1': 'SwapLevel1',\n\t'LYRA level 2': 'LyraLevel2',\n\t'LYRA level 3': 'LyraLevel2',\n\tXRT: 'Xrt'\n};\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","directives","name","rawName","value","expression","_v","eventFilterId","model","callback","$$v","searchFilter","staticRenderFns","on","$event","preventDefault","updateSearchFilter","apply","arguments","eventTypeOptions","$set","EventSearchFilter","min","max","Object","entries","HEK_EVENT_TYPE_NAMES","map","key","text","Array","isArray","eventType","dateRange","searchParams","URLSearchParams","HEK_EVENT_LIST_SEARCH_PARAMS","length","set","join","toISOString","component","paginator","loading","pageNumber","pageCount","tableId","updatePageNumber","ref","items","eventTableFields","eventTableCaption","showEventDetailModal","scopedSlots","_u","fn","data","item","selection","selectionEmpty","showOverlappingDatasetModal","_s","eventDetailModalTitle","eventDetailModalEvent","_e","overlappingDatasetsModalTitle","overlappingDatasetsModalSearchFilter","tableSettings","tableSettingsModalId","updateTableSettings","event","thumbnailUrl","$utils","formatDate","startTime","endTime","frm_name","frm_identifier","detailUrl","$","$filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","filter","callbackfn","undefined","from","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","stat","default","CRISP","CHROMIS","XRT"],"sourceRoot":""}