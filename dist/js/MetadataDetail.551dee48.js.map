{"version":3,"file":"js/MetadataDetail.551dee48.js","mappings":"gKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,IAAMJ,EAAIK,SAAS,OAAS,GAAG,aAAa,GAAG,IAAM,oBAAoBH,EAAG,eAAe,CAACI,YAAY,OAAOF,MAAM,CAAC,MAAQ,kBAAkB,YAAYJ,EAAIO,iBAAiB,gBAAgB,KAAK,CAACL,EAAG,gBAAgB,CAACA,EAAG,eAAe,CAACE,MAAM,CAAC,GAAKJ,EAAIO,iBAAiB,KAAO,SAAS,YAAc,kBAAkB,MAAQ,2DAA2D,SAAW,OAAOC,MAAM,CAACC,MAAOT,EAAIU,eAAgBC,SAAS,SAAUC,GAAMZ,EAAIU,eAAeE,CAAG,EAAEC,WAAW,oBAAoBX,EAAG,uBAAuB,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,UAAYJ,EAAIU,eAAe,MAAQ,6BAA6BI,GAAG,CAAC,MAAQd,EAAIe,sBAAsB,CAACf,EAAIgB,GAAG,YAAY,IAAI,IAAI,GAAGd,EAAG,SAAS,CAACE,MAAM,CAAC,gBAAgB,SAAS,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,WAAW,OAAS,KAAK,CAACF,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQJ,EAAIiB,cAAc,OAASjB,EAAIkB,OAAO,OAASlB,EAAIU,eAAe,yBAAyBV,EAAImB,qBAAqB,cAAc,KAAK,cAAc,SAAS,WAAa,GAAG,aAAa,GAAG,MAAQ,OAAO,GAAInB,EAAIoB,WAAYlB,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,gBAAgB,CAACF,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQJ,EAAIqB,gBAAgB,OAASrB,EAAIkB,OAAO,OAASlB,EAAIU,eAAe,yBAAyBV,EAAImB,qBAAqB,cAAc,KAAK,cAAc,SAAS,WAAa,GAAG,aAAa,GAAG,MAAQ,OAAO,GAAGnB,EAAIsB,MAAM,IAAI,EAC16C,EACIC,EAAkB,GC8BtB,GACAC,KAAA,iBACAC,MAAA,CACAC,SAAA,CAAAC,KAAAC,OAAAC,UAAA,IAEAC,OACA,OACApB,eAAA,GACAH,iBAAA,KAAAwB,OAAAC,cACAd,OAAA,SACAC,qBAAA,SACAc,sBAAA,sDAEA,EACAC,SAAA,CACA7B,WACA,YAAAqB,UAAAS,eAAAC,eAAAC,EAAA,KACA,EACAjB,aACA,YAAAM,SAAAY,YAAA,KAAAZ,SAAAY,YAAAC,UAAA,EACA,EACAtB,gBACA,OAAAW,OAAAY,QAAA,KAAAd,UACAe,QAAA,EAAAC,MAAA,KAAAT,sBAAAU,SAAAD,KACAE,KAAA,EAAAF,EAAAjC,GAAAoC,KAAA,CAAAA,GAAAA,EAAAC,KAAA,GAAAJ,OAAAjC,OACA,EACAY,kBACA,YAAAD,WAAA2B,MAAA,cAAAH,KAAA,CAAAE,EAAAD,KAAA,CAAAA,KAAAC,UACA,GAEAE,QAAA,CACAjC,sBACA,KAAAL,eAAA,EACA,ICjEuQ,I,UCOnQuC,GAAY,OACd,EACAlD,EACAwB,GACA,EACA,KACA,KACA,MAIF,EAAe0B,EAAiB,O","sources":["webpack://web-client/./src/components/metadata/MetadataDetail.vue","webpack://web-client/src/components/metadata/MetadataDetail.vue","webpack://web-client/./src/components/metadata/MetadataDetail.vue?bfef","webpack://web-client/./src/components/metadata/MetadataDetail.vue?2ff1"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-img',{attrs:{\"src\":_vm.imageURL,\"center\":\"\",\"fluid-grow\":\"\",\"alt\":\"Data thumbnail\"}}),_c('b-form-group',{staticClass:\"my-2\",attrs:{\"label\":\"Filter metadata\",\"label-for\":_vm.metadataFilterId,\"label-sr-only\":\"\"}},[_c('b-input-group',[_c('b-form-input',{attrs:{\"id\":_vm.metadataFilterId,\"type\":\"search\",\"placeholder\":\"Filter metadata\",\"title\":\"Type anything to filter the metadata on keyword or value\",\"debounce\":\"250\"},model:{value:(_vm.metadataFilter),callback:function ($$v) {_vm.metadataFilter=$$v},expression:\"metadataFilter\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"disabled\":!_vm.metadataFilter,\"title\":\"Clear the metadata filter\"},on:{\"click\":_vm.clearMetadataFilter}},[_vm._v(\"Clear\")])],1)],1)],1),_c('b-tabs',{attrs:{\"content-class\":\"mt-3\"}},[_c('b-tab',{attrs:{\"title\":\"Metadata\",\"active\":\"\"}},[_c('b-table',{attrs:{\"items\":_vm.metadataItems,\"fields\":_vm.fields,\"filter\":_vm.metadataFilter,\"filter-included-fields\":_vm.filterIncludedFields,\"primary-key\":\"id\",\"thead-class\":\"d-none\",\"responsive\":\"\",\"show-empty\":\"\",\"small\":\"\"}})],1),(_vm.fitsHeader)?_c('b-tab',{attrs:{\"title\":\"FITS header\"}},[_c('b-table',{attrs:{\"items\":_vm.fitsHeaderItems,\"fields\":_vm.fields,\"filter\":_vm.metadataFilter,\"filter-included-fields\":_vm.filterIncludedFields,\"primary-key\":\"id\",\"thead-class\":\"d-none\",\"responsive\":\"\",\"show-empty\":\"\",\"small\":\"\"}})],1):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div>\n\t\t<b-img :src=\"imageURL\" center fluid-grow alt=\"Data thumbnail\"></b-img>\n\t\t<b-form-group class=\"my-2\" label=\"Filter metadata\" :label-for=\"metadataFilterId\" label-sr-only>\n\t\t\t<b-input-group>\n\t\t\t\t<b-form-input\n\t\t\t\t\t:id=\"metadataFilterId\"\n\t\t\t\t\tv-model=\"metadataFilter\"\n\t\t\t\t\ttype=\"search\"\n\t\t\t\t\tplaceholder=\"Filter metadata\"\n\t\t\t\t\ttitle=\"Type anything to filter the metadata on keyword or value\"\n\t\t\t\t\tdebounce=\"250\"\n\t\t\t\t></b-form-input>\n\t\t\t\t<b-input-group-append>\n\t\t\t\t\t<b-button :disabled=\"!metadataFilter\" title=\"Clear the metadata filter\" @click=\"clearMetadataFilter\">Clear</b-button>\n\t\t\t\t</b-input-group-append>\n\t\t\t</b-input-group>\n\t\t</b-form-group>\n\t\t<b-tabs content-class=\"mt-3\">\n\t\t\t<b-tab title=\"Metadata\" active>\n\t\t\t\t<b-table :items=\"metadataItems\" :fields=\"fields\" :filter=\"metadataFilter\" :filter-included-fields=\"filterIncludedFields\" primary-key=\"id\" thead-class=\"d-none\" responsive show-empty small>\n\t\t\t\t</b-table>\n\t\t\t</b-tab>\n\t\t\t<b-tab v-if=\"fitsHeader\" title=\"FITS header\">\n\t\t\t\t<b-table :items=\"fitsHeaderItems\" :fields=\"fields\" :filter=\"metadataFilter\" :filter-included-fields=\"filterIncludedFields\" primary-key=\"id\" thead-class=\"d-none\" responsive show-empty small>\n\t\t\t\t</b-table>\n\t\t\t</b-tab>\n\t\t</b-tabs>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'MetadataDetail',\n\tprops: {\n\t\tmetadata: { type: Object, required: true }\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmetadataFilter: '',\n\t\t\tmetadataFilterId: this.$utils.getUniqueId(),\n\t\t\tfields: ['text'],\n\t\t\tfilterIncludedFields: ['text'],\n\t\t\tforbiddenMetadataKeys: ['fits_header', 'resource_uri', 'data_location', 'tags']\n\t\t};\n\t},\n\tcomputed: {\n\t\timageURL() {\n\t\t\treturn this.metadata?.data_location?.thumbnail_url || require('@/assets/no_preview_available.jpg');\n\t\t},\n\t\tfitsHeader() {\n\t\t\treturn this.metadata.fits_header ? this.metadata.fits_header.trimEnd() : '';\n\t\t},\n\t\tmetadataItems() {\n\t\t\treturn Object.entries(this.metadata)\n\t\t\t\t.filter(([key]) => !this.forbiddenMetadataKeys.includes(key))\n\t\t\t\t.map(([key, value], id) => ({ id: id, text: `${key} = ${value}` }));\n\t\t},\n\t\tfitsHeaderItems() {\n\t\t\treturn this.fitsHeader.match(/[^]{1,80}/g).map((text, id) => ({ id, text }));\n\t\t}\n\t},\n\tmethods: {\n\t\tclearMetadataFilter() {\n\t\t\tthis.metadataFilter = '';\n\t\t}\n\t}\n};\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MetadataDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MetadataDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MetadataDetail.vue?vue&type=template&id=55a88096&\"\nimport script from \"./MetadataDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./MetadataDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","imageURL","staticClass","metadataFilterId","model","value","metadataFilter","callback","$$v","expression","on","clearMetadataFilter","_v","metadataItems","fields","filterIncludedFields","fitsHeader","fitsHeaderItems","_e","staticRenderFns","name","props","metadata","type","Object","required","data","$utils","getUniqueId","forbiddenMetadataKeys","computed","data_location","thumbnail_url","require","fits_header","trimEnd","entries","filter","key","includes","map","id","text","match","methods","component"],"sourceRoot":""}